(this["webpackJsonpsupport-chat-widget"]=this["webpackJsonpsupport-chat-widget"]||[]).push([[1],{28:function(e,n,t){"use strict";var a,r=t(23),i=(t(12),t(24)),o=t(8),s=i.a.div(a||(a=Object(r.a)(["\n    width:30px;\n    height:30px;\n    min-width:30px;\n    min-height:30px;\n    border-radius: 40%;\n    background-color: #a2a786;\n    background-size: cover;\n    background-position: center;\n    background-repeat:no-repeat;\n    &[data-dukascopy]{\n        background-size:80%;\n        background-color:#da2221;\n        background-image:url(data:image/png;base64,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);\n    }\n"])));n.a=function(e){var n=e.avatar;return Object(o.jsx)(s,{"data-dukascopy":"dukascopy"===n})}},39:function(e,n,t){"use strict";t.r(n);var a,r,i,o,s,c,d,l=t(23),u=t(12),p=t(24),g=t(0),b=t(13),x=t(25),h=t(8),A=p.a.div(a||(a=Object(l.a)(["\n  position: relative;\n  background-color: ",";\n  color: ",';\n  font-family: "Open Sans", sans-serif;\n  font-style: normal;\n  font-weight: 700;\n  padding: 15px 30px;\n  cursor: pointer;\n  text-transform: uppercase;\n  letter-spacing: 0.02em;\n  font-size: 22px;\n  line-height: 30px;\n  &[data-uid]::after {\n    content: attr(data-uid);\n    display: block;\n    font-size: 12px;\n    opacity: 0.4;\n    line-height: 14px;\n    font-family: "SF Pro Display";\n    font-weight: 400;\n  }\n  &[data-status="0"]::before {\n    background-color: rgba(0, 0, 0, 0.2);\n  }\n  &[data-status="1"]::before {\n    background-color: #ff9009e1;\n  }\n  &[data-status="2"]::before {\n    background-color: #15ff09e0;\n  }\n'])),b.a.chatColor,b.a.chatHeadColor),m=p.a.div(r||(r=Object(l.a)(["\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAABQElEQVRoge2ZwU7DMBAF2/w7ggOlEge4kP5jBeU6XBI1PJyQxt61K+07Rsm+GUeOanW3i0QikYhVgAfgE3gFOsfebuj8Ah5zBp25pveQGOD7Se85Z9gzv2MqkYAHOOQM3ANvMvBkITF0vRdfMA8JM3gpMJEwh5eiohJu8FJYRMIdXoqzJKrBC8AmierwAnKTRDPwArRKojl4AVuUaBZ+zJJE8/BjBtiPBKj+tmkPfszMm7gP+DELEibwVquxX3mtrcxs2D8buzZnMqQPI/exiWdWvuf6GXU5FG3KErzc057EGni5tx2JW+DlmfoSW+Dl2XoSOfAyw1+iBLzM8pMoCS8z7SUs4GW2nYQlvHSUl/CAl66yEsDRA37SlzoUHXMGfnvBTzpV4pIz7Am4AC8e8JPeDjgM3dv/4IhEIpHIf/kBoa3r5F4Qe6YAAAAASUVORK5CYII=);\n  position: absolute;\n  right: 30px;\n  width: 20px;\n  height: 20px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  top: calc(50% - 10px);\n"]))),f=function(e){var n=Object(u.useState)(null),t=Object(x.a)(n,2),a=t[0],r=t[1],i=Object(u.useState)(0),o=Object(x.a)(i,2),s=o[0],c=o[1];Object(u.useEffect)((function(){return g.a.S_CHAT_OPENED.add((function(e){r(e)}),"ChatHead"),g.a.S_WS_AUTHORIZED.add((function(e){c("guest"===e?1:2)}),"ChatHead"),g.a.S_WS_CLOSED.add((function(){c(0)}),"ChatHead"),function(){g.a.S_CHAT_OPENED.clearContext("ChatHead"),g.a.S_WS_AUTHORIZED.clearContext("ChatHead"),g.a.S_WS_CLOSED.clearContext("ChatHead")}}));var d="Loading...";null!=a&&(d=a.title);var l=null;if(null!=a&&e.messenger&&"private"===a.type){l=Object(h.jsx)("div",{onClick:function(e){g.a.S_REQUEST_CALL.invoke({chatVO:a,audio:!0,video:!0})},children:"CALL"})}var p=e.messenger?null:Object(h.jsx)(m,{onClick:function(e){g.a.S_LOG.invoke("on close button click"),g.a.S_GUI_CLOSE_CHAT.invoke({uid:null===a||void 0===a?void 0:a.uid})}});return Object(h.jsxs)(A,{onDoubleClick:e.onDoubleClick,id:"chatHead","data-staus":s,"data-uid":a?null===a||void 0===a?void 0:a.uid:"...",children:[d,p,l]})},j=t(6),O=p.a.div(i||(i=Object(l.a)(["\n  display: flex;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  padding: 13px 15px 18px 15px;\n  background-color: ",";\n  align-items: center;\n"])),b.a.chatColor),v=null,M=p.a.div(o||(o=Object(l.a)(["\n  width: 24px;\n  height: 24px;\n  min-width: 24px;\n  min-height: 24px;\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  cursor: pointer;\n  align-self: center;\n"]))),y=Object(p.a)(M)(s||(s=Object(l.a)(["\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMTEuMjUiIHN0cm9rZT0iI0M4RDBEQiIgc3Ryb2tlLXdpZHRoPSIxLjUiLz4KPHBhdGggZD0iTTEyIDVWMTlNNSAxMkgxOSIgc3Ryb2tlPSIjQzhEMERCIiBzdHJva2Utd2lkdGg9IjEuNSIvPgo8L3N2Zz4K);\n"]))),S=Object(p.a)(M)(c||(c=Object(l.a)(["\n  border-radius: 50%;\n  background-size: 60%;\n  background-color: ",";\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjMiIHZpZXdCb3g9IjAgMCAyNCAyMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIuMDgyMzEgOS45NjQyNkMxLjI5MyA5Ljc1MjE0IDAuODMzMzk0IDguOTcxMjIgMS4wNTYyIDguMjE4ODRDMS4xODkwOSA3Ljc2ODkzIDEuNTQ3NzcgNy40MTAzNCAyLjAxMzM3IDcuMjYxOTVMMjIuMDY3IDEuMDM1NTNDMjIuNDYwNiAwLjkxMjgyMyAyMi44ODQzIDEuMTE4MjggMjMuMDEzMiAxLjQ5MzA0QzIzLjA2MjEgMS42MzU3MiAyMy4wNjIxIDEuNzg5ODEgMjMuMDE0MiAxLjkzMjQ5TDE2LjQ3ODggMjEuMDMzMUMxNi4yMiAyMS43NzQxIDE1LjM3ODggMjIuMTczNiAxNC42MDA1IDIxLjkyNzNDMTQuMTMyOSAyMS43Nzg5IDEzLjc3MjIgMjEuNDE4NCAxMy42NDAzIDIwLjk2NjZMMTEuMzk2MiAxMi4wOTExTDIuMDgyMzEgOS45NjQyNloiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTIyLjgyOTYgMS4yMDcwM0wxMS4zOTY1IDEyLjA5MTQiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg==);\n  width: 42px;\n  height: 42px;\n  min-width: 42px;\n  min-height: 42px;\n  background-position: 7px 10px;\n"])),b.a.chatSendBtnBg),C=p.a.div(d||(d=Object(l.a)(["\n  flex-grow: 1;\n  max-height: 200px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  color: ",';\n  font-size: 15px;\n  line-height: 18px;\n  &:focus {\n    outline: none;\n  }\n  margin: 4px 10px 4px 10px;\n  &[data-prompt="true"] {\n    opacity: 0.7;\n    color: #fff;\n  }\n'])),b.a.chatInputColor),I=!1,w="Type your message...";g.a.S_SHARED_OBJECT_READY.add((function(e){e.promptMessage&&"string"===typeof e.promptMessage&&(w=e.promptMessage)}));var E,D,k,R,T,B,H,G,z,N,U,L,_,J,Q,P,F,Z,Y,X,K,V=function(e){var n=Object(u.useRef)(null),t=Object(u.useRef)(null);Object(u.useEffect)((function(){var e=n.current;return e&&e.addEventListener("paste",a),function(){e&&e.removeEventListener("paste",a)}}));var a=function(e){if(n.current){var t=e;if(t&&t.clipboardData){var a,r=!1,i=Object(j.a)(t.clipboardData.items);try{for(i.s();!(a=i.n()).done;){var o=a.value;if("file"===o.kind){var s=o.getAsFile();s&&g.a.S_CHAT_ATTACH_FILE_REQUEST.invoke([s])}-1===o.type.indexOf("text/rtf")&&-1===o.type.indexOf("editor")||(r=!0)}}catch(l){i.e(l)}finally{i.f()}var c=e.clipboardData.getData("text");r&&(c="{code}"+c+"{code}"),I=!0;var d=window.getSelection();d&&d.rangeCount&&(v||(v=document.createElement("div")),v.textContent=c,c=v.textContent,d.deleteFromDocument(),d.getRangeAt(0).insertNode(document.createTextNode(c)),e.preventDefault())}}},r=function(){if(n.current){var e=n.current.innerHTML;if(e){e=(e=(e=(e=e.replace("\t","TAB")).replaceAll("<br>","\n")).replaceAll("<div>","")).replaceAll("</div>","\n"),n.current.textContent=e,e=n.current.textContent;var t={"&nbsp;":"","&amp;":"&","&quot;":'"',"&lt;":"<","&gt;":">"};for(var a in t)e=e.replaceAll(a,t[a]);e?I?e.length>2e3?g.a.S_ALERT_ERROR.invoke("Message too big!"):(I=!1,n.current.textContent="",n.current.focus(),g.a.S_CHAT_MESSAGE_SEND_REQUEST.invoke(e)):g.a.S_LOGE.invoke("Input wasn't changed"):g.a.S_LOGE.invoke("No text to send")}}};return Object(h.jsxs)(O,{children:[Object(h.jsx)(y,{onClick:function(e){t.current&&t.current.click()}}),Object(h.jsx)(C,{ref:n,onFocus:function(e){n.current&&(I||(n.current.removeAttribute("data-prompt"),n.current.textContent=""))},"data-prompt":!0,onBlur:function(e){n.current&&(n.current.textContent&&0===n.current.textContent.length&&(I=!1),I||(n.current.textContent=w,n.current.setAttribute("data-prompt","true")))},onKeyUp:function(e){n.current&&("Enter"!==e.code||e.altKey||e.ctrlKey||e.shiftKey||(e.preventDefault(),r()),I=!!(n.current.textContent&&n.current.textContent.length>0))},contentEditable:!0,suppressContentEditableWarning:!0,children:w}),Object(h.jsx)(S,{onClick:function(e){r()}}),Object(h.jsx)("input",{ref:t,style:{display:"none"},type:"file",onChange:function(e){var n=e.target.files;if(n){for(var t=[],a=n.length,r=0;r<a;r++){var i=n.item(r);i&&t.push(i)}g.a.S_CHAT_ATTACH_FILE_REQUEST.invoke(t),e.target.value=""}},onPaste:a})]})},W=t(29),q=t(5),$=t(28),ee=p.a.div(E||(E=Object(l.a)(["\n  background-color: ",";\n  padding: ",";\n  border-radius: ",";\n"])),b.a.chatMessageBotItemBg,b.a.chatMessagePadding,b.a.chatMessageBorderRadius),ne=function(e){var n;return Object(h.jsx)(ee,{"data-type":"message",children:null===(n=e.msg.sys)||void 0===n?void 0:n.title})},te=p.a.div(D||(D=Object(l.a)(["\n  cursor: pointer;\n  color: ",";\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  padding: 9px 0 9px 0;\n  &:first-child {\n    border-top: none;\n  }\n  &:hover {\n    text-decoration: underline;\n  }\n"])),b.a.chatMessageBotMenuColor),ae=function(e){var n=e.data,t=n.text,a=n.action;return Object(h.jsx)(te,{onClick:function(n){g.a.S_CHAT_BOT_COMMAND_SEND_REQUEST.invoke({action:a,title:t,actionData:null,botUID:e.userUID})},children:t})},re=p.a.div(k||(k=Object(l.a)(["\n  padding: ",";\n  background-color: ",";\n  color: ",";\n  margin-bottom: 2px;\n  border-radius: "," ","\n    "," ",";\n  &:nth-last-child() {\n    background-color: green;\n  }\n"])),b.a.chatMessagePadding,b.a.chatMessageBg,b.a.chatTextColor,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageSmallBorderRadius),ie=p.a.div(R||(R=Object(l.a)(["\n  padding: ",";\n  background-color: ",";\n  color: ",";\n  border-radius: ","\n    "," ","\n    ",";\n  ",";\n"])),b.a.chatMessagePadding,b.a.chatMessageBg,b.a.chatTextColor,b.a.chatMessageSmallBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.messageCloudTaleLeft),oe=function(e){var n=null;try{var t;n=JSON.parse(null===(t=e.msg.sys)||void 0===t?void 0:t.additionalData)}catch(o){console.error("Can't parse bot menu "+o)}if(!n)return Object(h.jsx)("div",{children:"NO BOT MENU"});var a=Object(h.jsx)(re,{children:n.menu.title}),r=null,i=0;return n&&Array.isArray(n.menu.items)&&(r=n.menu.items.map((function(n){return Object(h.jsx)(ae,{data:n,userUID:e.msg.user_uid},i++)}))),Object(h.jsxs)("div",{children:[a,Object(h.jsx)(ie,{children:r})]})},se=p.a.div(T||(T=Object(l.a)(["\n  background-color: rgba(0, 0, 0, 0.15);\n  width: 100%;\n  max-width: 400px;\n  padding-top: 75%;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n  border-radius: 6px;\n  cursor: pointer;\n  &:hover {\n    background-position: contain;\n  }\n"]))),ce=Object(u.memo)((function(e){var n,t=null===(n=e.msg.sys)||void 0===n?void 0:n.additionalData.split(","),a=t[0],r=Object(u.useState)(null),i=Object(x.a)(r,2),o=i[0],s=i[1];return Object(u.useEffect)((function(){return g.a.S_IMAGE_REQUEST.invoke({uid:a,thumb:!0,chatUID:e.msg.chatUID}),g.a.S_IMAGE_READY.add((function(e){e.uid===a&&e.thumb&&s(e.b64)}),a),function(){g.a.S_IMAGE_READY.clearContext(a)}}),[a,e.msg.chatUID]),Object(h.jsx)(se,{onClick:function(n){e.msg.sys&&e.msg.sys.additionalData&&g.a.S_IMAGE_DOWNLOAD_REQUEST.invoke({target:"msg",src:n.target,uid:a,name:e.msg.sys.title,chatUID:e.msg.chatUID,width:t[1],height:t[2]})},style:{backgroundImage:"url(".concat(o)}})})),de=p.a.div(B||(B=Object(l.a)(["\n  background-color: ",";\n  padding: 10px;\n  border-radius: ",';\n  display: flex;\n  align-items: center;\n  max-width: calc(100% - 20px);\n  cursor: pointer;\n  &::before {\n    content: "";\n    display: block;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAeklEQVRIie2UwRGAIAwEL45t2I+VUIdP65RCzo9+IEKIo+M47BPusvAJ8DtIziQj6yxewWYY7pecTUvmYH1a0CZxCuySGwJVIloZAEQku0szGmlvLL3UOqQkHTyCFrqgC7rgBYG2KiKAqbbwLojpgfaDoAWNw4Oj93F2ysfj8659GAAAAAAASUVORK5CYII=);\n    width: 30px;\n    height: 30px;\n    min-width: 30px;\n    min-height: 30px;\n    background-color: ',";\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: 80%;\n    border-radius: 8px;\n    box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.5);\n    margin-right: 10px;\n  }\n  &::after {\n    content: attr(data-title);\n    display: block;\n    flex-grow: 1;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n"])),b.a.chatMessageFileMsgBg,b.a.chatMessageBorderRadius,b.a.chatMessageFileItemBg),le=function(e){var n;return Object(h.jsx)(de,{"data-title":null===(n=e.msg.sys)||void 0===n?void 0:n.title,onClick:function(n){e.msg.sys&&e.msg.sys.additionalData&&g.a.S_FILE_DOWNLOAD_REQUEST.invoke({uid:e.msg.sys.additionalData,name:e.msg.sys.title})}})},ue=p.a.div(H||(H=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n"]))),pe=null,ge=void 0,be=null;g.a.S_CHAT_OPENING.add((function(e){})),g.a.S_CHAT_OPEN_REQUEST.add((function(e){e.chatUID&&(pe=e.chatUID)}));var xe,he,Ae,me,fe,je,Oe,ve,Me=p.a.div(G||(G=Object(l.a)(["\n  word-wrap: break-word;\n  word-break: break-word;\n  background-color: ",";\n  color: ",';\n  flex-direction: column;\n  &[data-mine="true"] {\n    background-color: ',";\n    color: ",';\n  }\n  &[data-mine="false"] div[data-type="link"] {\n    background-color: ',";\n    color: ",";\n  }\n  align-self: flex-end;\n  padding: 15px 0 15px 0;\n  border-radius: ",';\n  &[data-full-width="true"] {\n    width: calc(100% - 50px);\n  }\n  &[data-status="plus"] {\n    background-color: #4caf50;\n    color: white;\n  }\n  &[data-status="minus"] {\n    background-color: #ce3f44;\n    color: white;\n  }\n'])),b.a.chatMessageBg,b.a.chatTextColor,b.a.chatMessageBgLeft,b.a.chatMineTextColor,b.a.linkBGColorRight,b.a.linkColorRight,b.a.chatMessageBorderRadius),ye=p.a.div(z||(z=Object(l.a)(["\n  position: absolute;\n  bottom: 1px;\n  left: -45px;\n"]))),Se=p.a.div(N||(N=Object(l.a)(["\n  &:first-child {\n    margin-top: 0;\n  }\n  &:last-child {\n    margin-bottom: 0;\n  }\n"]))),Ce=Object(p.a)(Se)(U||(U=Object(l.a)(["\n  background-color: ",";\n  color: ",";\n  cursor: pointer;\n  padding: 8px;\n  border-radius: 3px;\n  margin: ",";\n  box-sizing: border-box;\n  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.2);\n  border: 1px dashed #2196f3;\n  transition: background-color 0.2s;\n  &:hover {\n    text-decoration: underline;\n    background-color: ",";\n  }\n"])),b.a.linkBGColor,b.a.linkColor,b.a.chatMessagePadding,b.a.linkBGColorHover),Ie=p.a.video(L||(L=Object(l.a)(["\n  width: 100%;\n  max-width: 434px;\n  &:first-child {\n    margin-top: 0;\n  }\n  &:last-child {\n    margin-bottom: 0;\n  }\n  margin: ",";\n"])),b.a.chatMessagePadding),we=Object(p.a)(Se)(_||(_=Object(l.a)(["\n  background-color: #0f2a38;\n  max-height: 60vh;\n  overflow: auto;\n  white-space: pre;\n  padding: 10px;\n  font-family: monospace;\n  font-size: 13px;\n  color: #3bffd1;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  margin: ",";\n"])),b.a.chatMessagePadding),Ee=p.a.div(J||(J=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 1px;\n  &::before {\n    content: attr(data-line);\n    display: block;\n    width: 25px;\n    min-width: 25px;\n    background-color: rgba(0, 0, 0, 0.2);\n    border-right: 1px solid rgba(0, 0, 0, 0.6);\n    margin-right: 8px;\n    padding: 3px;\n    color: rgba(255, 255, 255, 0.5);\n  }\n"]))),De=Object(p.a)(Se)(Q||(Q=Object(l.a)(["\n  margin: 0 15px 0 15px;\n"]))),ke=p.a.div(P||(P=Object(l.a)(["\n  width: 24px;\n  min-width: 24px;\n  height: 24px;\n  margin-right: 5px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABUUlEQVRIie2SsUrDUBiFv5tcIejcgOAbtLZUFzex3XQQKnR08BkC2hcQxb6EjhmyiYtxEMRJkdCAg7vSWcEhudehsWmDqU0nwZ7xkP/Lf85/Ya65/rzErINVz7FFZF4JeH9qn27m+cbscMMH1jRYk3xZFF53OyUVqWugAjxHqN1JfqGK6m6npFA+sJpAtsL22VueXziBRp0nkFDLuBG2uv2q59gqin0QFdA9LVUzbHX73zMFK9J3IJSW8UGQwAedp/BgBA5JRTX36FagF5WMt0c/qLmH9wIWsj6MHjQfDpC8Im1pWBeR4Vc9x04rQf7kTwsfJsgeSZpm42Hv+PUnX8U6yjto7g/SrcwboAy6pz/VRrDf/chum4z9unmmIgha3b6WcQMIQZSxjJXUV80BXFSKwMcSDJNcOEvSksuP7ZOXMd9zbCLzEgAZ70wDn+uf6AselN1N/IXehQAAAABJRU5ErkJggg==);\n"]))),Re=p.a.div(F||(F=Object(l.a)(["\n  width: 24px;\n  min-width: 24px;\n  height: 24px;\n  margin-right: 5px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA20lEQVRIie2UsQrCMBRFb4Ip/kD7FUoHacFJ1E0Hf9XFzc4uJRBw8BPET+iT1MFWQg21abrZO+aFe+57eQQYNcpXbCgjpVRUFMURACVJsqrP+VDmRJQxxpaMsalZ8wZIKUMiOgOYAbhprQ9m3WtEUspQa50BmFfm6zRN74MAupj3BnQ17wVwMbcC8jy/ABBCiF0cxw+zVm8L3g96FUJsm3ea+tqisiwnABZElCmlIh9zawfNEQDYcM6fLmNpBdjSVsdOyVsBlk7gmvwnAPj8LycACIJg75J81B/pBUirmXOOwxAnAAAAAElFTkSuQmCC);\n"]))),Te=function(e){var n=e.data,t=n.content,a=n.type;if("link"===a){var r=document.createElement("a");r.href=t,r.target="_blank",r.style.display="absoulte";var i=function(e){document.body.appendChild(r),r.click(),r.remove()},o=t;return o.length>40&&(o=(o=t.substr(0,15)+"..."+t.substr(15)).substr(0,35)),t.toLowerCase().endsWith(".mp4")?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Ie,{controls:!0,src:t,children:Object(h.jsx)("source",{src:t,type:"video/mp4"})}),Object(h.jsx)(Ce,{"data-type":"link",onClick:i,children:t})]}):Object(h.jsx)(Ce,{"data-type":"link",onClick:i,children:t})}if("code"===a){var s=t.split("\n"),c=1,d=s.map((function(e){return Object(h.jsx)(Ee,{"data-line":c,children:e},c++)}));return Object(h.jsx)(we,{"data-type":"code",children:d})}return Object(h.jsx)(De,{children:t})},Be=Object(u.memo)((function(e){var n=e.msg,t=n.text,a=n.mine,r="%{blck#$}",i=[],o=!1,s=(t=t.replace(/(\b((https:\/\/)|(http:\/\/)|(ftp:\/\/)|(www\.))((.*?)[^\s\n\t\r\v]*))|\n|{code}([\w\W]+?){code}|{code}([\w\W]+?){\/code}/gim,(function(e,n){return"\n"===e?(i.push({type:"br",content:""}),r):e.toLowerCase().startsWith("{code}")?(i.push({type:"code",content:e.substr(6,e.length-12)}),o=!0,r):(i.push({type:"link",content:e}),r)}))).split(r),c=[];for(var d in s){var l=s[d];l.length>0&&c.push({type:"text",content:l});var u=i[d];u&&c.push(u)}var p=0,g=c.map((function(e){return Object(h.jsx)(Te,{data:e},p++)})),b=null;return"+"===t&&(b="plus"),"-"===t&&(b="minus"),Object(h.jsx)(Me,{"data-status":b,"data-full-width":o,"data-mine":a,"data-type":"message",children:g})})),He=p.a.div(Z||(Z=Object(l.a)(["\n  width: 88%;\n  max-width: 88%;\n  position: relative;\n  align-self: flex-start;\n  align-items: center;\n  display: flex;\n  color: ",';\n  &[data-mine="true"] {\n    justify-content: flex-end;\n    align-self: flex-end;\n    color: ',';\n  }\n  &[data-mine="false"] {\n    flex-direction: row-reverse;\n    justify-content: flex-end;\n    margin-left: 50px;\n  }\n\n  &[data-mine="true"] {\n    &[data-position="last"],\n    &[data-position="standalone"] {\n      & div[data-type="message"] {\n        ','\n      }\n    }\n  }\n  &[data-mine="false"] {\n    &[data-position="last"],\n    &[data-position="standalone"] {\n      & div[data-type="message"] {\n        ','\n      }\n    }\n  }\n\n  &[data-mine="true"] {\n    &[data-position="middle"] {\n      & div[data-type="message"] {\n        border-radius: '," "," "," ",';\n      }\n    }\n\n    &[data-position="first"] {\n      & div[data-type="message"] {\n        border-radius: '," "," "," ",';\n      }\n    }\n\n    &[data-position="last"] {\n      & div[data-type="message"] {\n        border-radius: '," "," "," ",';\n      }\n    }\n  }\n\n  &[data-mine="false"] {\n    &[data-position="middle"] {\n      & div[data-type="message"] {\n        border-radius: '," "," "," ",';\n      }\n    }\n\n    &[data-position="first"] {\n      & div[data-type="message"] {\n        border-radius: '," "," "," ",';\n      }\n    }\n\n    &[data-position="last"] {\n      & div[data-type="message"] {\n        border-radius: '," "," "," ",';\n      }\n    }\n  }\n\n  &[data-position="middle"],\n  &[data-position="first"],\n  &[data-position="last"] {\n    margin-bottom: 1px;\n  }\n  &[data-position="standalone"],\n  &[data-position="last"] {\n    margin-bottom: 30px;\n  }\n  &:hover > div[data-type="time"] {\n    opacity: 1;\n    transition: opacity 0.2s;\n  }\n'])),b.a.chatMessageColorLeft,b.a.chatMessageColorRight,b.a.messageCloudTaleRight,b.a.messageCloudTaleLeft,b.a.chatMessageBorderRadius,b.a.chatMessageSmallBorderRadius,b.a.chatMessageSmallBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageSmallBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageSmallBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageSmallBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageSmallBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageSmallBorderRadius,b.a.chatMessageSmallBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius),Ge=p.a.div(Y||(Y=Object(l.a)(["\n  font-size: 10px;\n  white-space: nowrap;\n  color: ",";\n  opacity: 0;\n  margin: 0 10px 0 10px;\n  transition: opacity 0.2s 5s;\n  user-select: none;\n  pointer-events: none;\n  /* background-color: #213346b7;\n    padding:3px 7px 3px 7px;\n    border-radius:9px;\n    color:white;*/\n"])),b.a.chatMessageTimeColor),ze=p.a.div(X||(X=Object(l.a)(["\n  font-size: 11px;\n  position: absolute;\n  top: -16px;\n  color: ",";\n"])),b.a.chatMessageAuthorColor),Ne=p.a.div(K||(K=Object(l.a)(["\n  /*background-color: #213346b7;*/\n  background-color: #5a6979;\n  padding: 5px 15px 5px 15px;\n  font-size: 11px;\n  color: rgba(255, 255, 255, 1);\n  white-space: nowrap;\n  border-radius: 10px;\n  margin: 0px 0 25px 0;\n  text-align: center;\n  width: 120px;\n  align-self: center;\n  position: sticky;\n  z-index: 10;\n  top: 10px;\n"]))),Ue=function(e){var n=q.a.dateFormatter.format(e.message.created,"%h:%i");return Object(h.jsx)(Ge,{"data-type":"time",children:n})},Le=function(e){var n,t=e.message,a=e.index,r=null;t.sys&&("botMenu"===t.type&&(r=Object(h.jsx)(oe,{data:t.sys,msg:t})),"botCommand"===t.type&&(r=Object(h.jsx)(ne,{msg:t})),"img"===t.type&&(r=Object(h.jsx)(ce,{msg:t})),"file"===t.type&&(r=Object(h.jsx)(le,{msg:t})),null==r&&(t.text=null===(n=t.sys)||void 0===n?void 0:n.title),t.text||(t.text="System msg ".concat(t.sys.method," without title")));var i=null;t.date&&(i=Object(h.jsx)(Ne,{children:t.date}));var o=null,s=null;return t.mine||"first"!==t.position&&"standalone"!==t.position||(o=Object(h.jsx)(ze,{children:t.user_name})),t.mine||"last"!==t.position&&"standalone"!==t.position||(s=Object(h.jsx)(ye,{children:Object(h.jsx)($.a,{user:t.user_uid,avatar:t.user_avatar})})),null==r&&(r=Object(h.jsx)(Be,{msg:t})),Object(h.jsxs)(h.Fragment,{children:[i,Object(h.jsxs)(He,{"data-position":t.position,"data-mine":t.mine,onClick:function(n){n.shiftKey&&console.log(e.message)},children:[Object(h.jsx)(Ue,{message:t}),o,a===be&&t.mine&&Object(h.jsx)(ke,{}),null===be&&Object(h.jsx)(Re,{})||be&&a>be&&t.mine&&Object(h.jsx)(Re,{}),r,s]})]})},_e=function(){var e=Object(u.useState)([]),n=Object(x.a)(e,2),t=n[0],a=n[1];be=Object(W.a)(t).findIndex((function(e){return e.num===ge}))||null,Object(u.useEffect)((function(){return g.a.S_CHAT_MESSAGES.add((function(e){pe===e.chatUID&&a(Object(W.a)(e.msgs))}),"ChatMessages"),g.a.S_CHAT_STATUS_READ.add((function(){pe&&g.a.REQ_LAST_READ_MSG.invoke({chatUID:pe}).then((function(e){return ge=null===e||void 0===e?void 0:e.lastReadMsgNum}))}),"ChatMessages"),g.a.S_GUI_MESSAGES_RENDERED.invoke(),function(){g.a.S_CHAT_MESSAGES.clearContext("ChatMessages"),g.a.S_CHAT_STATUS_READ.clearContext("ChatMessages")}}));var r=null,i=0;return t&&t.length>0&&(r=t.map((function(e,n){return Object(h.jsx)(Le,{message:e,index:n},i++)}))),Object(h.jsx)(ue,{children:r})},Je=t(27),Qe=t(22),Pe=t(26),Fe=p.a.div(xe||(xe=Object(l.a)(["\n    font-size:20px;\n    position: absolute;\n    top:66px;\n    right:8px;\n    user-select:none;\n    pointer-events: none;\n    display:flex;\n    width:100%;\n    flex-direction: column;\n    align-items: flex-end;\n    z-index:30;\n"]))),Ze=p.a.div(he||(he=Object(l.a)(['\n    padding:5px 10px 5px 10px;\n    font-size:11px;\n    background-color:rgba(0,0,0,.7);\n    color:white;\n    border-radius: 10px;\n    max-width: 50%;\n    overflow:hidden;\n    text-overflow: ellipsis;\n    white-space:nowrap;\n    margin-bottom: 2px;\n    box-shadow:0px 1px 2px rgba(0,0,0,.3);\n    &[data-status="finish"]{\n        background-color: #3b548e;\n    }\n    &[data-status="fail"]{\n        background-color: #ce3f44;\n    }\n']))),Ye=function(e){return Object(h.jsx)(Ze,{"data-status":e.data.status,children:e.data.file.name})},Xe=function(){var e=Object(u.useState)([]),n=Object(x.a)(e,2),t=n[0],a=n[1];Object(u.useEffect)((function(){return g.a.S_FILE_UPLOADING_LIST_UPDATED.add((function(e){a(e)}),"ChatUploadingFiles"),function(){g.a.S_FILE_UPLOADING_LIST_UPDATED.clearContext("ChatUploadingFiles")}}));var r=0,i=t.map((function(e){return Object(h.jsx)(Ye,{data:e},r++)}));return Object(h.jsx)(Fe,{children:i})},Ke=p.a.div(Ae||(Ae=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(0, 0, 0, 0.65);\n"]))),Ve=p.a.div(me||(me=Object(l.a)(["\n  width: 80%;\n  max-height: 80%;\n  min-height: 10%;\n  border-radius: 10px;\n  padding: 10px;\n  background-color: white;\n  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.1);\n  color: #e91e63;\n  display: flex;\n  font-size: 15px;\n  text-align: center;\n  justify-content: center;\n  align-items: center;\n  white-space: pre-line;\n  overflow-x: hidden;\n  overflow-y: auto;\n"]))),We=function(){var e=Object(u.useState)(null),n=Object(x.a)(e,2),t=n[0],a=n[1];Object(u.useEffect)((function(){return g.a.S_ALERT_ERROR.add((function(e){g.a.S_LOGE.invoke(e),a(e)}),"alert"),function(){g.a.S_ALERT_ERROR.clearContext("alert")}}));return t?Object(h.jsx)(Ke,{onClick:function(e){a(null)},children:Object(h.jsx)(Ve,{children:t})}):Object(h.jsx)(h.Fragment,{})};Je.a.registerPlugin(Pe.a);var qe,$e,en,nn,tn=Object(p.b)(fe||(fe=Object(l.a)(["\n    from {\n        transform: translateY(10px);\n        opacity: 0;\n    }\n    to {\n        transform: translateY(0px);\n        opacity: 1;\n    }\n"]))),an=p.a.div(je||(je=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n"]))),rn=p.a.div(Oe||(Oe=Object(l.a)(["\n  position: absolute;\n  border-radius: 15px;\n  padding: 5px 10px;\n  background: ",";\n  color: ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  animation: "," 0.5s linear;\n  transition: 0.5s ease;\n  min-width: 200px;\n  max-width: 100%;\n  z-index: 11;\n"])),b.a.toastBGColor,b.a.toastTextColor,tn),on=p.a.div(ve||(ve=Object(l.a)(["\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAABQElEQVRoge2ZwU7DMBAF2/w7ggOlEge4kP5jBeU6XBI1PJyQxt61K+07Rsm+GUeOanW3i0QikYhVgAfgE3gFOsfebuj8Ah5zBp25pveQGOD7Se85Z9gzv2MqkYAHOOQM3ANvMvBkITF0vRdfMA8JM3gpMJEwh5eiohJu8FJYRMIdXoqzJKrBC8AmierwAnKTRDPwArRKojl4AVuUaBZ+zJJE8/BjBtiPBKj+tmkPfszMm7gP+DELEibwVquxX3mtrcxs2D8buzZnMqQPI/exiWdWvuf6GXU5FG3KErzc057EGni5tx2JW+DlmfoSW+Dl2XoSOfAyw1+iBLzM8pMoCS8z7SUs4GW2nYQlvHSUl/CAl66yEsDRA37SlzoUHXMGfnvBTzpV4pIz7Am4AC8e8JPeDjgM3dv/4IhEIpHIf/kBoa3r5F4Qe6YAAAAASUVORK5CYII=);\n  width: 15px;\n  height: 15px;\n  min-width: 15px;\n  min-height: 15px;\n  cursor: pointer;\n  background-size: 15px;\n  margin-left: 5px;\n"]))),sn=function(e){var n=Object(u.useRef)(null),t=function(t){n.current&&(n.current.getAttribute("active")||Qe.d.to(n.current,.5,{opacity:0,top:"0px",ease:"ease",onComplete:function(){n.current&&(n.current.style.opacity="1",n.current.style.top="calc(50px + (".concat(e.position," * 35px))"),n.current.setAttribute("active","1")),g.a.S_TOAST_DELETE.invoke(t),g.a.REQ_TOASTS.invoke().then((function(n){return e.setToasts(n)}))}}),n.current.getAttribute("active")&&n.current.removeAttribute("active"))};return e.deletedToast===e.toast.tempUID&&t(e.toast.tempUID),Object(h.jsxs)(rn,{style:{top:"calc(50px + (".concat(e.position," * 35px))")},ref:n,children:[e.toast.text,Object(h.jsx)(on,{onClick:function(){return t(e.toast.tempUID)}})]})},cn=function(){var e=Object(u.useState)([]),n=Object(x.a)(e,2),t=n[0],a=n[1],r=Object(u.useState)(null),i=Object(x.a)(r,2),o=i[0],s=i[1];return Object(u.useEffect)((function(){return g.a.S_TOAST.add((function(){g.a.REQ_TOASTS.invoke().then((function(e){return a(e)}))}),"toast"),g.a.S_TOAST_DELETE.add((function(e){s(e)}),"toast"),function(){g.a.S_TOAST.clearContext("toast"),g.a.S_TOAST_DELETE.clearContext("toast")}}),[]),Object(h.jsx)(an,{children:t.length>0&&t.map((function(e,n){return Object(h.jsx)(sn,{toast:e,position:n,deletedToast:o,setToasts:a},e.state+n)}))})};Je.a.registerPlugin(Pe.a);var dn=25,ln=25,un="320px",pn="60vh",gn=p.a.div(qe||(qe=Object(l.a)(["\n  bottom: ","px;\n  right: ","px;\n"])),ln,dn),bn=Object(p.a)(gn)($e||($e=Object(l.a)(['\n  display: flex;\n  font-family: "Open Sans", sans-serif;\n  flex-direction: column;\n  position: absolute;\n  width: ',";\n  height: ",";\n  background-color: ",";\n  border-radius: 30px;\n  overflow: hidden;\n  font-size: ",';\n  box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.2);\n  transition: height 0.2s, width 0.2s;\n  line-height: normal !important;\n  transform: scaleZ(1);\n  &[data-mobile="true"] {\n    position: relative;\n    bottom: auto;\n    right: auto;\n    left: 0;\n    top: 0;\n    border-radius: 0;\n    transition: none;\n    flex-grow: 1;\n    width: 100vw;\n    height: 100vh;\n    box-shadow: none;\n  }\n\n  &[data-messenger="true"] {\n    position: relative;\n    height: auto;\n    bottom: auto;\n    right: auto;\n    border-radius: 0;\n    transition: none;\n    flex-grow: 1;\n    max-width: 600px;\n    box-shadow: none;\n  }\n'])),un,pn,b.a.chatBG,b.a.chatMessageTextSize),xn=p.a.div(en||(en=Object(l.a)(["\n  flex-grow: 1;\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: auto;\n  width: calc(100% - 5px);\n"]))),hn=p.a.div(nn||(nn=Object(l.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n"]))),An=null;n.default=function(e){var n=0,t=0,a=0,r=0,i=Object(u.useRef)(null),o=Object(u.useRef)(null),s=function(e){if(i.current){var o=a-(e.clientX-n),s=r-(e.clientY-t);i.current.style.bottom=s+"px",i.current.style.right=o+"px",c()}},c=function(){if(i.current){var e=i.current.getBoundingClientRect(),n=parseInt(i.current.style.right),t=parseInt(i.current.style.bottom);if(!isNaN(n)&&!isNaN(t)){n<dn&&(n=dn),t<ln&&(t=ln);var a=window.innerWidth-e.width,r=window.innerHeight-e.height;n>a&&(n=a),t>r&&(t=r),i.current.style.bottom=t+"px",i.current.style.right=n+"px"}}},d=function(e){c()},l=function(e){s(e)},p=function e(n){s(n),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",e)},b=function(){i.current&&(An&&An.kill(),i.current.setAttribute("opening","1"),i.current.removeAttribute("expanded"),i.current.style.opacity="0",i.current.style.removeProperty("display"),An=Qe.d.to(i.current,.2,{width:un,height:pn,bottom:ln+"px",right:dn+"px",opacity:1,ease:Qe.c.easeIn,onComplete:function(){i.current&&i.current.removeAttribute("opening"),g.a.S_GUI_CHAT_OPENED.invoke()}}))};Object(u.useEffect)((function(){g.a.S_GUI_MESSAGES_RENDERED.add((function(){o.current&&(o.current.scrollTop=o.current.scrollHeight-o.current.clientHeight),i.current&&"none"===i.current.style.display&&b()}),"chat");var n=window.__DCCSharedObject;return n&&!e.sharedObject.messenger&&i.current&&(e.sharedObject.mobile||(i.current.style.right=dn+"px",i.current.style.bottom=ln+"px",n.bottomOffset&&!isNaN(n.bottomOffset)&&(ln=n.bottomOffset),n.rightOffset&&!isNaN(n.rightOffset)&&(dn=n.rightOffset)),c()),g.a.S_GUI_CLOSE_CHAT.add((function(e){i.current&&(An&&An.kill(),i.current.setAttribute("closing","1"),i.current.removeAttribute("expanded"),An=Qe.d.to(i.current,.2,{width:0,height:0,bottom:ln+"px",right:dn+"px",opacity:0,ease:Qe.c.easeIn,onComplete:function(){i.current&&(i.current.style.display="none",i.current.removeAttribute("closing")),g.a.S_GUI_CHAT_CLOSED.invoke()}}))}),"chat"),g.a.S_GUI_OPEN_CHAT.add((function(){b()}),"chat"),e.sharedObject.messenger||window.addEventListener("resize",d),function(){window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",p),window.removeEventListener("resize",d),g.a.S_GUI_MESSAGES_RENDERED.clearContext("chat"),g.a.S_GUI_CLOSE_CHAT.clearContext("chat"),g.a.S_GUI_OPEN_CHAT.clearContext("chat"),g.a.S_GUI_REPOSITION_CHAT.clearContext("chat"),An&&An.kill()}}));var x=function(e){e.preventDefault();for(var n=[],t=e.dataTransfer.files.length,a=0;a<t;a++){var r=e.dataTransfer.files.item(a);r&&n.push(r)}g.a.S_CHAT_ATTACH_FILE_REQUEST.invoke(n)},A=function(e){e.preventDefault()},m=e.sharedObject.headless?null:Object(h.jsx)(f,{messenger:e.sharedObject.messenger,onDoubleClick:function(n){i.current&&(i.current.getAttribute("closing")||e.sharedObject.messenger||e.sharedObject.mobile||(i.current.getAttribute("expanded")?(An=Qe.d.to(i.current,.2,{width:320,height:"50vh",bottom:ln+"px",right:dn+"px",ease:Qe.c.easeOut}),i.current.removeAttribute("expanded")):(An=Qe.d.to(i.current,.2,{width:390,height:"calc(95vh - ".concat(ln,"px)"),bottom:ln+"px",right:dn+"px",ease:Qe.c.easeOut}),i.current.setAttribute("expanded","1"))))}});return e.sharedObject.messenger?Object(h.jsxs)(bn,{id:"DukascopyConnect","data-messenger":e.sharedObject.messenger,ref:i,children:[m,Object(h.jsx)(xn,{ref:o,onDrop:x,onDragOver:A,children:Object(h.jsx)(hn,{children:Object(h.jsx)(_e,{})})}),Object(h.jsx)(Xe,{}),Object(h.jsx)(V,{messenger:e.sharedObject.messenger}),Object(h.jsx)(cn,{}),Object(h.jsx)(We,{})]}):Object(h.jsxs)(bn,{id:"DukascopyConnect","data-mobile":e.sharedObject.mobile,ref:i,onMouseDown:function(o){if(!e.sharedObject.mobile&&i.current&&"chatHead"===o.target.id){n=o.clientX,t=o.clientY;var s=i.current.getBoundingClientRect();a=s.left,r=s.top,a=parseInt(i.current.style.right),r=parseInt(i.current.style.bottom),isNaN(a)&&(a=dn,i.current.style.right=a+"px"),isNaN(r)&&(r=ln,i.current.style.bottom=r+"px"),window.addEventListener("mousemove",l),window.addEventListener("mouseup",p)}},children:[m,Object(h.jsx)(xn,{ref:o,onDrop:x,onDragOver:A,children:Object(h.jsx)(hn,{children:Object(h.jsx)(_e,{})})}),Object(h.jsx)(Xe,{}),Object(h.jsx)(V,{}),Object(h.jsx)(We,{})]})}}}]);