(this["webpackJsonpsupport-chat-widget"]=this["webpackJsonpsupport-chat-widget"]||[]).push([[5],{43:function(e,n,t){"use strict";t.r(n);var r,a,o,c,i,l,d,s,u,b,p,x,j,f,A,g,h=t(25),O=t(23),m=t(12),E=t(24),v=t(0),S=t(13),C=t(8),w=E.a.div(r||(r=Object(O.a)(['\n  position: "static";\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  left: 0;\n  background-color: #252833;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font: 12px Tahoma;\n']))),k=E.a.div(a||(a=Object(O.a)(["\n  width: 300px;\n  min-height: 400px;\n  background-color: #f0f0f0;\n  border-radius: 5px;\n"]))),R=E.a.div(o||(o=Object(O.a)(["\n  padding: 40px 20px 20px 20px;\n  min-height: 100px;\n  background-color: #ffffff;\n  border-radius: 5px 5px 0px 0px;\n  box-shadow: 0px 1px 1px rgb(0 0 0 / 10%);\n  font-size: 22px;\n  color: ",";\n  & > div {\n    font-size: 11px;\n    color: ",";\n  }\n"])),S.a.defaultColor,S.a.lightTextColor),y=E.a.div(c||(c=Object(O.a)(["\n  height: 300px;\n  padding: 20px 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),T=E.a.div(i||(i=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),I=E.a.input(l||(l=Object(O.a)(['\n  padding: 10px 10px 10px 40px;\n  border-radius: 4px;\n  margin: 10px 0px;\n  border: none;\n  box-shadow: 0px 2px 1px inset rgb(0 0 0 / 25%);\n  background-position: left 10px center;\n  background-repeat: no-repeat;\n  background-size: 18px auto;\n  &:focus {\n    outline: none;\n  }\n  &[name="login"] {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAJ2SURBVEhL7VY7aFRBFF3EXx0/IKgRwUrUXggWooKfoIKfwkpQWwsrDSIYEOwEEYvUioS024TdO/PezNtEVkHcysIPSkCN2gnR1fXcmbNhwaybfbuKxR64MO+8e8+de+e+T2GAAZZCmqZbk7Lfr6Zr0n8P1rqDRtysNb7Rasb4GWPSA3TrL4xx15D0Z0zmnhvxE2q6DslxDz5X6d4fJOLORXH/GZUdI70IJBzVe7H69DTp3iAiayE6h4p+WOv3kv4NSD4SfIx7VywW15DOj0T80ViJmyTVFlb8FH0Pk8oPiFxXMRF3gVRbYMguqi82MEYqPyAyHsSsO0OqLdCds0w8Tio/rM0uUewGqbZAd26qr1ZOKj9EKts4NK//NDQcwjfqWyr5YdK9AdU+ClUb9wAJVpJeRLVaXaX3YrXuIeneMT09u04rji13j/VZFZnZbK3domu0thqSin+ZZdkQw/qDkMi4+Vj5kvZRfejeHyTlbB8qfdFM0jxz2Ctcf2/y6oNWjzCsN/DZrFM8hfBorVZbbUxlh5qeuS37I9jME/rUEXOe4fmA8zsJQX4YwuCYMEiSXQb/VQ2Dd4Uz8Db4iFvQGN0gZbpDkiQb+OKv64sBYs+isJ9rSbCga9iXwGGiNSHW6JCb1w1RbvlAu24HUXF39Bof/O1I9Inc07SU7lHTdUgq7j3avj7EirvPjdzS62Wj0WisQGUfIPDNe7+RdAFneQitHdN2k4rPMDh05TgpvO3sJq1aN6NapDsjSSq7Q2XGC6muofOgGujKTlKdYUx2IrRK3F1SXQPx91SjtRMdoT9wSH4KtotU19BY1fgnP4MD/IcoFH4BgFtbCVPpFC0AAAAASUVORK5CYII=);\n  }\n  &[name="password"] {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAKrSURBVEhL7VY7ixRBEF5FEQMfGIvIJWpwiIoiKr4zUQMfgQYmYmSiiAoGgoH4BwwETTwxEEQDWYXjprq3q2c3WFDEB5qZCHLgJZ54cLp+1VOzzJ6ze3O7cyb6QbHMV131dVd19V3lP/oBEa00pr6BqLG62WwuVnp+kIjxDUP+gzW+lZohnjTGP61F/oAuLQ8QPALBryr0C0JvrOHn+HYpH4z8Y2ZepmGDwVp3BmI/kXjaEt+W8qorQEpdI388U4mXjUZjubr7g7XxNohOBTPusNK5kJNqFSDOj5TuDygxJyXks0p1wDk3VCO+YK3fId+jo80VWPtRYvruOfq4SRLg91Wr1VqgdBtBxPjxsAZ9r0XxTuFtxMeSOH4SFs4VCLymCS4q1QG0YbP4U5OTCy89x/cENjOJSVgUFs8FKNm9kLBLyVSgLmsg8oWovlZdFXBO+JkXsRBwQR4mwW67Un8giOPkM28xqvQiifXrlSoOCN8PpzHupFKFgdF6K7FyD5QqBumrBMK+4XJtVboQpOQhlvidUsWQFcWY7Fa6MCB4R+KR57pSswNP3qUQhBvZl2jER2W0kGO8cJmzopjJPUoH4KFYI49Ft2SY84WW3HnETiHHtI38IXX1BspyuZuoAJflk/q/o+cj1vJpea2I4oMhlvi1+GE/xKdhvZEVxejsVboDqTBsQn/zjGS0NKQ3sPsrEiSi2MA+pQOwiV3GxCfEsCY8jdVqdUn4S2T8TWzmAewuWnTVjbmNGjY7eIzXpaIo236l28BGnok/a+oaDDjJcBCGgFIdaAvL00l8S0xdgyFPWJ5HKX/SAn6f+ONhdZeDPGHpVzhlxv6qsFwanPqcWBzHq9RdDtrC5D/LvyrBdB7hO6XLykcqnGfzKowSLnWR25JnpZf3H0Sl8hvIbtqs7zMeyQAAAABJRU5ErkJggg==);\n  }\n  &[name="phone"] {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAACFklEQVRYhe3WO2gVQRQG4C+JRqPRgA+wEDWoxChB7QTRUsHKIlhoZaMES7HQNHaWEqzEQlAUBQtFBd8QLLSwMUIaJeILXyBIxFdirsWc5W4Sb9Dcu8EiP2yx/5k5/78zZ+Ys0/iP0YyzGMRDrJ9K8SbcQyn3fMLGqRCfjZsh+gYduBbv77CmSPGGnNhbtAU/CzdyplYVZeBoiLzH2jGxJtyJ+AssLcLAxxDYVCE+F70x5nKtxevwLZK3TDBuc4x5VWsDcDuSd1WId+BDjOkpwsCuSP5YWpFK4lfQWISBRmlpS+jM8fVS9ZdwtSjxDPtDqF86lhnOBH+6SHGYiWchdiDHt+MXhrGuaBM7w8AgWnP8ieAfSZdToTgXYneVC3IeBoK/KNVGYVgoXccldOf4dqkxlXAJc/4wtwsPwuSyakzskPZ9BLtz/JaciSfYkIsdM7qLPseKakx0R6Lv2JrjV6IvYsM4iePxPoS9uF8LE3U4pfxPkO8TTdIX/1T+4iHlO6S5ViYacCESfZG2Jo82nJdWqXNMbKyJ5dWYyFZiGIeNPwXzK8zNm+idrAHSdhyRCrMUSVf/5dxWaat+GN9n/hnb8TpMfMUhE/eHxcoFe71a8QwtUuWPROKX2IcZE4j3Y0mtDGTYJt0F2SkYwEEskv4dM/G+MFMI6rEHT42+hLKnUPE8GqRGdkuqjc/SyVkwFeLTmBR+AzfGm+5rBiJBAAAAAElFTkSuQmCC);\n  }\n  &[name="code"] {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAApUlEQVRIie3UPQ4BQRjG8R+FRK91As0eQuEKruAeDuMYIhodvUYiarVkacbar4bZVbD/ZIr3mcnzJO/MvHT8JQkOuEesE2Z15mNcIs3zIQWG2IXNNQYf9+AVktHDKohHjCLMawOWQbhiEmleCZgjxQ3TBswrAedQLHIHtthE1FlAX6lXgbSkv1sXaL1FtHzJfOGZ0vJHe9LqqHiSYN+Aee2w6/hBHr+lgAdKDY1mAAAAAElFTkSuQmCC);\n  }\n']))),Q=E.a.div(d||(d=Object(O.a)(["\n  font-size: 10px;\n  margin: 10px 0px;\n  text-transform: uppercase;\n  color: ",";\n  position: relative;\n  padding: 4px 2px 1px 40px;\n  user-select: none;\n  display: inline-block;\n  text-align: left;\n  &:before {\n    background-color: rgba(42, 44, 53, 0.65);\n    border: 1px solid ",';\n    content: "";\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 1px;\n    width: 30px;\n    height: calc(100% - 2px);\n    cursor: pointer;\n    transition: background-color 0.2s ease-in-out;\n    box-shadow: 0px 0px 5px inset rgb(0 0 0 / 20%);\n    border-radius: 2px;\n  }\n  &:after {\n    pointer-events: none;\n    background-color: #ffffff;\n    content: "";\n    display: block;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 15px;\n    height: 100%;\n    transition: left 0.2s ease-in-out;\n    border: 1px solid ',';\n    border-radius: 3px;\n    box-shadow: 0px 1px 1px rgb(0 0 0 / 20%);\n  }\n  &[data-selected="true"] {\n    color: rgba(0, 0, 0, 1);\n  }\n  &[data-selected="true"]:before {\n    background-color: rgb(56, 171, 208);\n    transition: background-color 0.2s ease-in-out;\n  }\n  &[data-selected="true"]:after {\n    left: 15px;\n    transition: left 0.2s ease-in-out;\n  }\n'])),S.a.lightTextColor,S.a.lightBorderColor,S.a.lightBorderColor),D=E.a.div(s||(s=Object(O.a)(["\n  display: flex;\n  justify-content: center;\n"]))),L=E.a.button(u||(u=Object(O.a)(["\n  min-width: 60px;\n  border-radius: 5px;\n  margin: 0px 5px;\n  padding: 12px;\n  border: none;\n  background-color: ",";\n  text-transform: uppercase;\n  color: #fff;\n  transition: 0.1s;\n  box-shadow: 0px 2px 2px rgb(0 0 0 / 20%);\n  cursor: pointer;\n  &:hover {\n    background-color: #393a46;\n    box-shadow: 0px 1px 2px inset rgb(0 0 0 / 20%);\n  }\n  &:disabled {\n    background-color: ",";\n  }\n"])),S.a.defaultColor,S.a.disabledColor),U=E.a.div(b||(b=Object(O.a)(["\n  display: flex;\n  justify-content: center;\n  color: red;\n  word-break: break-word;\n  max-height: 50px;\n  overflow-y: scroll;\n"]))),B=function(){var e=Object(m.useState)("web"),n=Object(h.a)(e,2),t=n[0],r=n[1],a=Object(m.useState)(""),o=Object(h.a)(a,2),c=o[0],i=o[1],l=Object(m.useState)(!1),d=Object(h.a)(l,2),s=d[0],u=d[1],b=Object(m.useRef)(null),p=Object(m.useRef)(null),x=Object(m.useState)(!1),j=Object(h.a)(x,2),f=j[0],A=j[1];Object(m.useEffect)((function(){return v.a.S_AUTH_CODE_REQUESTED.add((function(){r("code"),u(!1),b.current&&(b.current.value="")}),"authpanel"),v.a.S_AUTH_ERROR.add((function(e){v.a.S_LOGE.invoke(e),i(e),u(!1)}),"authpanel"),function(){v.a.S_AUTH_CODE_REQUESTED.clearContext("authpanel"),v.a.S_AUTH_ERROR.clearContext("authpanel")}}));var g=function(e){if(console.log("DO SEND"+t),i(""),u(!0),"web"===t){if(!b.current||!p.current)return;console.log("DO SEND 1"+t),v.a.S_AUTH_REQUEST.invoke({login:b.current.value,password:p.current.value,remember:f})}else if("phone"===t){var n;if(!b.current)return;v.a.S_AUTH_REQUEST_BY_PHONE.invoke({phone:null===(n=b.current)||void 0===n?void 0:n.value})}else if("code"===t){var r;if(!b.current)return;v.a.S_AUTH_CHECK_CODE.invoke({code:parseInt(null===(r=b.current)||void 0===r?void 0:r.value),remember:f})}else console.error("Wrong state: "+t)},O=function(e){i(""),r(e)},E=null;return"web"===t?E=Object(C.jsxs)(k,{children:[Object(C.jsx)(R,{children:"Web Chat"}),Object(C.jsxs)(y,{children:[Object(C.jsxs)(T,{children:[Object(C.jsx)(I,{ref:b,type:"text",name:"login",placeholder:"Login"}),Object(C.jsx)(I,{ref:p,type:"password",name:"password",placeholder:"Password"}),Object(C.jsx)(Q,{onClick:function(){return A(!f)},"data-selected":f,children:"Remember Me"}),c&&Object(C.jsx)(U,{children:c})]}),Object(C.jsxs)(D,{children:[Object(C.jsx)(L,{onClick:g,disabled:s,children:"Login"}),Object(C.jsx)(L,{onClick:function(){return O("phone")},disabled:s,children:"Enter by phone"})]})]})]}):"phone"===t?E=Object(C.jsxs)(k,{children:[Object(C.jsxs)(R,{children:["Web Chat",Object(C.jsx)("div",{children:"Please provide your phone number to get verification code via SMS"})]}),Object(C.jsxs)(y,{children:[Object(C.jsxs)(T,{children:[Object(C.jsx)(I,{ref:b,type:"phone",name:"phone",placeholder:"Phone"}),c&&Object(C.jsx)(U,{children:c})]}),Object(C.jsxs)(D,{children:[Object(C.jsx)(L,{onClick:g,disabled:s,children:"Login"}),Object(C.jsx)(L,{onClick:function(){return O("web")},disabled:s,children:"Enter by login"})]})]})]}):"code"===t&&(E=Object(C.jsxs)(k,{children:[Object(C.jsxs)(R,{children:["Web Chat",Object(C.jsx)("div",{children:"Please enter the confirmation code from the received SMS"})]}),Object(C.jsxs)(y,{children:[Object(C.jsxs)(T,{children:[Object(C.jsx)(I,{ref:b,type:"number",name:"code",placeholder:"Code"}),Object(C.jsx)(Q,{onClick:function(){return A(!f)},"data-selected":f,children:"Remember Me"}),c&&Object(C.jsx)(U,{children:c})]}),Object(C.jsxs)(D,{children:[Object(C.jsx)(L,{onClick:g,disabled:s,children:"Login"}),Object(C.jsx)(L,{onClick:function(){return O("phone")},disabled:s,children:"Reenter Phone"}),Object(C.jsx)(L,{onClick:function(){return O("web")},disabled:s,children:"Enter by login"})]})]})]})),Object(C.jsx)(w,{children:E})},P=E.a.div(p||(p=Object(O.a)(["\n    position:absolute;\n    background-color:#0011AA;\n    width:400px;\n    height:300px;\n"]))),M=function(){var e=Object(m.useState)(null),n=Object(h.a)(e,2),t=n[0],r=n[1],a=Object(m.useRef)(null),o=Object(m.useRef)(null);Object(m.useEffect)((function(){return v.a.S_CALL_PLACED.add((function(e){r(e)}),"call"),v.a.S_CALL_ACCEPTED.add((function(e){r(e)})),v.a.S_CALL_CALLEE_ACCEPT_CALL.add((function(e){r(e)})),v.a.S_CALL_LOCAL_MEDIA_READY.add((function(e){a.current&&e.localStream&&(a.current.srcObject=e.localStream)})),v.a.S_CALL_REMOTE_STREAM_READY.add((function(e){o.current&&e.remoteStream&&o.current.srcObject!==e.remoteStream&&(o.current.srcObject=e.remoteStream)})),function(){v.a.S_CALL_PLACED.clearContext("call")}}),[t]);var c=null;return t?(c=Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("video",{ref:a,width:"320px",height:"240px",playsInline:!0,autoPlay:!0,muted:!0}),Object(C.jsx)("video",{ref:o,playsInline:!0,autoPlay:!0,muted:!0})]}),Object(C.jsx)(P,{children:c})):null},Y=E.a.div(x||(x=Object(O.a)(["\n    position:absolute;\n    z-index:21;\n"]))),G=E.a.div(j||(j=Object(O.a)(["\n    width:200px;\n    height:300px;\n    background-color: red;\n"]))),_=E.a.div(f||(f=Object(O.a)(["\n    padding:10px;\n    background-color: #0059ff;\n    cursor:pointer;\n"]))),N=function(){var e=Object(m.useState)(null),n=Object(h.a)(e,2),t=n[0],r=n[1];if(Object(m.useEffect)((function(){return v.a.S_CALL_INCOMING.add((function(e){r({type:"incoming",data:e})}),"callDialogs"),function(){v.a.S_CALL_INCOMING.clearContext("callDialogs")}}),[]),!t)return null;var a=null;if("incoming"===t.type){a=Object(C.jsxs)(G,{"data-type":t.type,children:["Incoming call from: ",t.data.callee.name,Object(C.jsx)(_,{onClick:function(e){v.a.S_CALL_ACCEPT.invoke(t.data),r(null)},children:"ACCEPT"}),Object(C.jsx)(_,{onClick:function(e){v.a.S_CALL_DECLINE.invoke(t.data),r(null)},children:"DECLINE"})]})}return a?Object(C.jsxs)(Y,{children:["CALL DIALOGS ",a]}):null},V=t(40),H=t(26),z=t(30),J=t(22),F=t(28);z.a.registerPlugin(F.a);var Z,q,K,W,X,$,ee,ne,te,re,ae,oe,ce,ie,le,de,se,ue,be,pe,xe,je,fe=E.a.div(A||(A=Object(O.a)(["\n    position:absolute;\n    z-index:2;\n    background-color:rgba(0,0,0,.4);\n    width:100%;\n    height:100%;\n    z-index:20;\n    backdrop-filter: blur(10px);\n    display:none;\n    transform:translateZ(1);\n"]))),Ae=E.a.div(g||(g=Object(O.a)(["\n    background-color: 0;\n    width:100px;\n    height:100px;\n    position:absolute;\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size:cover;\n    border-radius: 6px;\n    transform:translateZ(1);\n"]))),ge=null,he=null,Oe=function(){var e=Object(m.useRef)(null),n=Object(m.useRef)(null),t=function(t,r,a,o){e.current&&n.current&&(Z&&Z.kill(),e.current.style.backgroundImage="url(".concat(r,")"),e.current.style.backgroundSize="contain",Z=J.d.to(e.current,.2,{left:"10px",top:"10px",width:"calc(100% - 20px)",height:"calc(100% - 20px",ease:J.c.easeOut}))},r=function(){var t;if(e.current){null===(t=Z)||void 0===t||t.kill(),ge=null;var r=-1,a=-1,o=-1,c=-1;if(he&&null!=n.current){var i=he.getBoundingClientRect(),l=i.x,d=i.y,s=n.current.getBoundingClientRect();r=l-s.x,a=d-s.y,o=i.width,c=i.height,e.current.style.backgroundImage=he.style.backgroundImage}Z&&Z.kill(),Z=-1===r&&-1===a&&-1===o&&-1===c?J.d.to(e.current,.2,{left:"50%",top:"50%",width:"0",height:"0",onComplete:function(){n.current&&n.current.style.removeProperty("display")},ease:J.c.easeOut}):J.d.to(e.current,.2,{left:r+"px",top:a+"px",width:o+"px",height:c+"px",onComplete:function(){n.current&&n.current.style.removeProperty("display")},ease:J.c.easeOut})}};return Object(m.useEffect)((function(){return v.a.S_CHAT_OPEN_REQUEST.add((function(e){ge=null,r()}),"lightbox"),v.a.S_IMAGE_DOWNLOAD_REQUEST.add((function(t){if("msg"===t.target&&(ge=t.uid,t.src&&"nodeName"in t.src&&"div"===t.src.nodeName.toLowerCase())){var r=-1,a=-1;t.width&&t.height&&(r=parseInt(t.width),a=parseInt(t.height),(isNaN(r)||isNaN(a)||r<1||a<1)&&(r=-1,a=-1)),he=t.src,function(t,r,a,o,c){if(e.current&&n.current){var i=t.getBoundingClientRect(),l=i.x,d=i.y,s=n.current.getBoundingClientRect(),u=l-s.x,b=d-s.y;e.current.style.left=u+"px",e.current.style.top=b+"px",e.current.style.width=i.width+"px",e.current.style.height=i.height+"px",e.current.style.backgroundImage=t.style.backgroundImage,n.current.style.display="block",Z&&Z.kill(),Z=J.d.to(e.current,.2,{left:"calc(50% - 150px",top:"calc(50% - 150px",onComplete:function(){v.a.S_IMAGE_REQUEST.invoke({uid:r,thumb:!1,chatUID:a})},ease:J.c.easeOut})}}(t.src,ge,t.chatUID)}}),"lightbox"),v.a.S_IMAGE_READY.add((function(e){if(e.uid===ge){var r=document.createElement("img");r.onload=function(a){n.current&&ge&&t(0,e.b64,r.width,r.height)},r.src=e.b64}}),"lightbox"),function(){v.a.S_IMAGE_REQUEST.clearContext("lightbox"),v.a.S_IMAGE_READY.clearContext("lightbox"),v.a.S_CHAT_OPEN_REQUEST.clearContext("lightbox")}}),[]),Object(C.jsx)(fe,{ref:n,onClick:function(e){e.target===n.current&&(e.preventDefault(),e.stopPropagation(),r())},children:Object(C.jsx)(Ae,{ref:e})})},me=t(29),Ee=t(27),ve=E.a.div(q||(q=Object(O.a)(["\n  color: ",';\n  font-family: "Open Sans", sans-serif;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 0.3;\n  max-width: 400px;\n  min-width: 350px;\n  margin-right: 20px;\n  /*background-color: rgba(0,0,0,.3);\n    box-shadow:0px 0px 20px rgba(0,0,0,.2);*/\n'])),S.a.latestColor),Se=E.a.div(K||(K=Object(O.a)(["\n  color: ",";\n  position: relative;\n  overflow: auto;\n  flex-grow: 1;\n"])),S.a.latestColor),Ce=E.a.div(W||(W=Object(O.a)(["\n  position: absolute;\n  color: ",";\n  width: 100%;\n"])),S.a.latestColor),we=E.a.div(X||(X=Object(O.a)(['\n  padding: 20px 12px 20px 12px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  border-left: 4px solid transparent;\n  &[data-selected="true"] {\n    background-color: #00000096;\n    border-left: 4px solid #e91e63;\n  }\n  color: #9ab2d2;\n  &[data-unread="true"] {\n    color: #ffffff;\n  }\n']))),ke=E.a.div($||($=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 20px;\n  overflow: hidden;\n  flex-grow: 1;\n"]))),Re=E.a.div(ee||(ee=Object(O.a)(['\n  font-size: 14px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  &[data-unread="true"] {\n    font-weight: bold;\n  }\n']))),ye=E.a.div(ne||(ne=Object(O.a)(["\n  color: #afc8d4;\n  position: sticky;\n  font-size: 11px;\n  top: 0;\n  padding: 5px 10px 5px 10px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  background-color: #2d354e;\n  border-radius: 10px;\n  width: 100px;\n  text-align: center;\n  left: calc(50% - 60px);\n"]))),Te=Object(E.a)(Re)(te||(te=Object(O.a)(["\n  font-size: 12px;\n  margin-top: 5px;\n\n  &[data-author]::before {\n    content: attr(data-author);\n    display: inline-block;\n    font-size: 10px;\n    background-color: #374354;\n    padding: 3px 5px 3px 5px;\n    border-radius: 5px;\n    margin-right: 5px;\n    color: #aed086;\n  }\n"]))),Ie=Object(E.a)(Re)(re||(re=Object(O.a)(['\n  font-size: 11px;\n  width: 45px;\n  min-width: 45px;\n  text-align: right;\n  margin-right: 5px;\n  color: #ffffff85;\n  display: flex;\n  flex-direction: column;\n  &::after {\n    content: attr(data-unread);\n    color: #ffc107;\n    font-size: 15px;\n    margin-top: 2px;\n  }\n  &[data-unread="0"]::after {\n    display: none;\n  }\n']))),Qe=E.a.div(ae||(ae=Object(O.a)(["\n  width: 100%;\n  height: 120px;\n  margin-top: 3px;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n  cursor: pointer;\n  border-radius: 3px;\n\n  &[data-author] {\n    background-position: center 23px;\n  }\n\n  &[data-author]::before {\n    content: attr(data-author);\n    display: inline-block;\n    font-size: 10px;\n    background-color: #374354;\n    padding: 3px 5px 3px 5px;\n    border-radius: 5px;\n    margin-right: 5px;\n    color: #aed086;\n  }\n"]))),De=Object(m.memo)((function(e){var n,t=(null===(n=e.message.sys)||void 0===n?void 0:n.additionalData.split(","))[0],r=e.message.chatUID,a=Object(m.useState)(null),o=Object(h.a)(a,2),c=o[0],i=o[1];return Object(m.useEffect)((function(){return v.a.S_IMAGE_REQUEST.invoke({uid:t,thumb:!0,chatUID:r}),v.a.S_IMAGE_READY.add((function(e){e.uid===t&&e.thumb&&(console.log("img uid",e.uid),i(e.b64))}),"li"+t),function(){v.a.S_IMAGE_READY.clearContext("li"+t)}}),[t,r]),Object(C.jsx)(Qe,{"data-author":e.author,style:{backgroundImage:"url(".concat(c)}})})),Le=function(e){var n=e.chatVO,t=n.title,r=n.uid,a=n.message,o=n.time,c=n.selected,i=n.author,l=n.unread,d=null;a&&(d="img"===a.type?Object(C.jsx)(De,{author:i,message:a}):Object(C.jsx)(Te,{"data-author":i,children:a.text}));var s=null;return"standalone"===e.chatVO.position&&(s=Object(C.jsx)(ye,{children:e.chatVO.date})),Object(C.jsxs)(C.Fragment,{children:[s,Object(C.jsxs)(we,{"data-unread":l>0,"data-selected":c,onClick:function(n){n.shiftKey?v.a.S_LOG.invoke(e.chatVO):v.a.S_CHAT_OPEN_REQUEST.invoke({chatUID:r})},children:[Object(C.jsx)(Ee.a,{user:"",avatar:""}),Object(C.jsxs)(ke,{children:[Object(C.jsx)(Re,{"data-unread":l>0,children:t}),d]}),Object(C.jsx)(Ie,{"data-unread":l,children:o})]})]})},Ue=function(){var e=Object(m.useState)([]),n=Object(h.a)(e,2),t=n[0],r=n[1];Object(m.useEffect)((function(){return v.a.S_LATEST_READY.add((function(e){r(Object(me.a)(e))}),"latestPanel"),v.a.S_LATEST_REQUEST.invoke({viaServer:!1}),v.a.S_LATEST_REQUEST.invoke({viaServer:!0}),function(){v.a.S_LATEST_READY.clearContext("latestPanel")}}),[]);var a=0,o=t.map((function(e){return Object(C.jsx)(Le,{chatVO:e},a++)}));return Object(C.jsx)(ve,{children:Object(C.jsx)(Se,{children:Object(C.jsx)(Ce,{children:o})})})},Be=E.a.div(oe||(oe=Object(O.a)(["\n  color: ",';\n  font-family: "Open Sans", sans-serif;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 0.3;\n  max-width: 400px;\n  min-width: 350px;\n  margin-right: 20px;\n  /*background-color: rgba(0,0,0,.3);\n    box-shadow:0px 0px 20px rgba(0,0,0,.2);*/\n'])),S.a.latestColor),Pe=E.a.div(ce||(ce=Object(O.a)(["\n  color: ",";\n  position: relative;\n  overflow: auto;\n  flex-grow: 1;\n"])),S.a.latestColor),Me=E.a.div(ie||(ie=Object(O.a)(["\n  position: absolute;\n  color: ",";\n  width: 100%;\n  margin-top: 50px;\n"])),S.a.latestColor),Ye=E.a.div(le||(le=Object(O.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  padding: 10px 5px;\n  border-radius: 10px;\n  position: fixed;\n  background-color: #252833;\n  z-index: 10;\n"]))),Ge=E.a.input(de||(de=Object(O.a)(["\n  background: none;\n  border: 1px solid black;\n  border-radius: 10px;\n  padding: 5px;\n  outline: none;\n  color: #ffffff;\n  min-width: 230px;\n"]))),_e=E.a.div(se||(se=Object(O.a)(['\n  padding: 20px 12px 20px 12px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n  border-left: 4px solid transparent;\n  &[data-selected="true"] {\n    background-color: #00000096;\n    border-left: 4px solid #e91e63;\n  }\n']))),Ne=E.a.div(ue||(ue=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 20px;\n  overflow: hidden;\n  flex-grow: 1;\n  font-size: 12px;\n  color: #9ab2d2;\n  & > div {\n    margin-top: 2px;\n  }\n"]))),Ve=E.a.div(be||(be=Object(O.a)(["\n  font-size: 14px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: #ffffff;\n"]))),He=function(e){var n,t=e.memberVO,r=t.name,a=t.uid,o=t.city,c=t.companyPhone;return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(_e,{onClick:function(e){v.a.S_CHAT_OPEN_REQUEST.invoke({userUID:[a]})},children:[Object(C.jsx)(Ee.a,{user:r,avatar:""}),Object(C.jsxs)(Ne,{children:[Object(C.jsx)(Ve,{children:r}),Object(C.jsxs)("div",{children:["City: ",o]}),Object(C.jsxs)("div",{children:["Departament: ",null===(n=e.departament)||void 0===n?void 0:n.title]}),Object(C.jsxs)("div",{children:["Company Phone: ",c]})]})]})})},ze=function(){var e=Object(m.useState)([]),n=Object(h.a)(e,2),t=n[0],r=n[1],a=Object(m.useState)([]),o=Object(h.a)(a,2),c=o[0],i=o[1],l=Object(m.useState)(new Map),d=Object(h.a)(l,2),s=d[0],u=d[1],b=Object(m.useState)(!1),p=Object(h.a)(b,2),x=p[0],j=p[1],f=Object(m.useState)(1),A=Object(h.a)(f,2),g=A[0],O=A[1],E=Object(m.useState)(""),S=Object(h.a)(E,2),w=S[0],k=S[1],R=c.slice(0,50*g);return Object(m.useEffect)((function(){return v.a.S_MEMBERS_READY.add((function(e){r(Object(me.a)(e))}),"memberPanel"),v.a.S_DEPARTAMENTS_READY.add((function(e){u(e)}),"memberPanel"),v.a.S_MEMBERS_REQUEST.invoke(),function(){v.a.S_MEMBERS_READY.clearContext("memberPanel"),v.a.S_DEPARTAMENTS_READY.clearContext("memberPanel")}}),[]),Object(m.useEffect)((function(){x&&(O(g+1),j(!1))}),[x,g]),Object(m.useEffect)((function(){w.length>=3?(i(t.filter((function(e){return e.name.toLocaleLowerCase().includes(w.toLocaleLowerCase())}))),O(1)):(i(t),O(1))}),[w,t]),Object(C.jsx)(Be,{children:Object(C.jsxs)(Pe,{onScroll:function(e){e.target.scrollTop+e.target.clientHeight+100<e.target.scrollHeight||j(!0)},children:[Object(C.jsxs)(Ye,{children:["Find Member: ",Object(C.jsx)(Ge,{value:w,onChange:function(e){return k(e.target.value)}})]}),Object(C.jsxs)(Me,{children:[R.map((function(e,n){return Object(C.jsx)(He,{memberVO:e,departament:s.get(e.department_id)},n)})),0===c.length&&"No Members found"]})]})})},Je=function(){return Object(C.jsx)("div",{children:"MENU PANEL"})},Fe=E.a.div(pe||(pe=Object(O.a)(['\n  position: "static";\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  left: 0;\n  background-color: #252833;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n']))),Ze=E.a.div(xe||(xe=Object(O.a)(["\n  display: flex;\n  width: calc(100% - 50px);\n  /*max-width:700px;*/\n  height: calc(100% - 50px);\n  justify-content: center;\n"]))),qe=E.a.div(je||(je=Object(O.a)(["\n  width: 40px;\n  height: 40px;\n  background: rgba(255, 255, 255, 0.7);\n  margin: 5px;\n  border-radius: 10px;\n  cursor: pointer;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: 30px auto;\n"]))),Ke=function(e){var n=Object(m.useState)(!1),t=Object(h.a)(n,2),r=t[0],a=t[1],o=e.icon,c=e.onClick,i=e.title;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(H.a,{text:i,open:r,additioanalStyle:{right:"-60px"}}),Object(C.jsx)(qe,{style:{backgroundImage:"url(".concat(o,")")},onClick:c,onMouseOver:function(){return a(!0)},onMouseOut:function(){return a(!1)}})]})};n.default=function(e){var n=Object(m.useState)("wait"),t=Object(h.a)(n,2),r=t[0],a=t[1],o=Object(m.useState)("latest"),c=Object(h.a)(o,2),i=c[0],l=c[1];Object(m.useEffect)((function(){return v.a.S_NEED_AUTHENTICATE.add((function(){a("auth")}),"messenger"),v.a.S_AUTH_CHECK.invoke((function(e){a(e?"chat":"auth")})),v.a.S_AUTH_COMPLETE.add((function(e){a("chat")})),function(){v.a.S_REQUEST_AUTHENTICATE.clearContext("messenger")}}),[]);var d=Object(C.jsx)("div",{children:"WAIT"});return"auth"===r?d=Object(C.jsx)(B,{}):"chat"===r&&(d=Object(C.jsxs)(Fe,{children:[Object(C.jsx)(N,{}),Object(C.jsx)(Oe,{}),Object(C.jsxs)(Ze,{children:[Object(C.jsx)(Je,{}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Ke,{onClick:function(){return l("latest")},icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAADtElEQVRoge3ZS4gcRRzH8c/sYuKa+EATX4kaXXSDxhANKoaIKBLw4kFQFB8HBQ8BUUHFmyAYEQ+ePEiSo5BccjAoPtGoEfGBiiZswOD7mZhARMlmxx0PVe3Ojtnurpoe9bBfKGqm5/+v+v+qq7r/VcMcc8xRRquBNpbhaizFaehgH97DWzjSQB+V5AoZwh14CBeV2H2D9Xih5/piXIWLsQhT+AFv4P2cgHKEnILtuDJ+P4DXsQe/xGtn4XqsQBtb8Rx240nciGNmaf813IJfM2KrzUn4WJg+X+M2DM9i28JT0bYo7Z7vs5U/sAXnDUiHTbGjXTi9hv0wVgpTcJ96IrrLfuVTN4tzMIkJLM/wHxWmS6qYD/sNvJcHY8Nb+2jjEelCOlhT1fBQQhBrY70jwaeXbZl+11QZpAgpFt7nebGALzL9llUZpAgpnk4/5sWC8L6YzPCbX2WQImQq1iMZgXTTzvA5WGWQIqQYyQUZgRQskjcQX1UZpAgp5vfZGYEUnJ/pt6fKIEVIscgvzYsFrMrwmcK7VUYpQj6L9eqMYAquy/Q7o8ogRchxsV5t9vyqjGE13gdHYUjIlCuN6rI+1k+YfoKl8KeQ+eZwONPvqOwW0oUVfbSxSnp60hbyvFJS7sh4rC9L8OnlkgyfZ4QtQ2PcJYzQ93ggw/++6JtyN3ZqZjs+g3l4J3ZwILGDVvRJnVb3NhT7P5iPn2InKXuS5dJF/IZT63aQskYIm6qX4ufbE/xuTewHHjV9BjAQ1ggjdlDInao4Ud42t07bffNi7GxHRYcLhTuYsys8c0Cxz2Cp6f335SV2Y/JEdIQ9fm1S10jBd9gbP3dK7Mp+q2IDjq1rnCuE6V3bRIlN2W9V3IxPcbcEQTmMCyN+QYlNcRbcb/kZjxnAulmCQ6oX5UIhwWxCTEc4EN+CC5sQMYZPYsOv1LDf1qCQorSFTHpejoCV2Cyk1B1ho1XnVi/GRwMQ08HLap4BDOMGvGrmaGwSpk1dRoQs9sgAxGwu6/h4PIwvuxx+j05jCQJ6GcWzQh7VpJgrejtq4R4hxymMxnG/8JdCU5wgZLbFk6/fsrG78QV4vuvHD7DOAPYDXbRiH2/2KeTvY9wRvB0v7sed+ntZ5nCTvL8dOpgoRvtpYfp8K5x07PXfcK4woEuEM+btKc6jwgnHpP4O35pirRDLYUFQbTao8Rj7l9koxPR4itPO6LRuEBFlcq3pB04tWsICO3lQEfXJIWGHWUlLUP5/ZkTDJ41zzJHAXxYg1p1tw14xAAAAAElFTkSuQmCC",title:"Latest"}),Object(C.jsx)(Ke,{onClick:function(){return l("members")},icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAACj0lEQVRoge3Zz4tNYRzH8ZefjZlho+RHLBSNWFiRnc0o8QcQhrGhbMRKLFgoKYkUURZEsiFqFpLZCRvFQtnMQojJIGL8yFg8z3WLc9yZ5x5zz8191+l77j3n+X6fz/0+3/M89zm0aNHiv2BCjett2Iq1mIuJBccfxlNcRH/Bvn+xEE8wMk7HeUxO7WxeRtrwEF0YxMn4+UtqoBxmohu9QraPYF+RAXYIv9Ig5hXpOIctMd4wZhXp+Hp0fKBIpzV4FGNuTGmcV7yzo32c4jSRR9HOSWmcJ6Ty/fcUp4l8i3ZSSuOiH6cNoyWkbJRdyCJhnmmvdWPZhazBLbzEHn9ZUpVdyPN4zMAxHM27sexCrmO+kA3YixVZN5ZdCGG2P44rwtDalnVTMwip0Bft0qyLzSRkKNppWRfLJKTyRBpJaVwmIQuifZ/SuCxCurAqnt9PcdBoIW3CfkBfPL+tupwfE6n/kXdiPzoS21foxJR4PiDn0ToaxipkOs5iQ2rADIZwGQfxJtXJWIQsx1VhIfdN2CS4lho48hmv8KNOP6MW0oPTwir0mZCRu/UGL5JaQjqFtFc2BG4K43got0XJeCBMTB+j/Sp7Gd01jn1aF/vyIOtirYx0yB5KnTgj1Epv/X2sn7x55G20N4Qi/70etmOTIKgU5GVkG5YJE1TW2mcg2pWYKgy9pqQdrwWRp9Sx+TwG6qqRPD5hNy5hl7BB0I93if4qfMA54UcaV3qEeiry9cILrM6I9U8yUuGC8EBYj8VCvdTDOtXaPITDCpj1G0EbTqhm547qpvZfM1JWNgv1MiKsxbo1qRBYIrzWGBHeCvRpUiH8OdSaVkiFLapD7V6D+1I3S4Sdx55Gd6RFixYN5CcpOqtXzBpIQAAAAABJRU5ErkJggg==",title:"Members"})]}),"members"===i&&Object(C.jsx)(ze,{}),"latest"===i&&Object(C.jsx)(Ue,{}),Object(C.jsx)(V.default,{sharedObject:e.sharedObject}),Object(C.jsx)(M,{}),Object(C.jsx)("div",{onClick:function(e){v.a.S_LOGOUT.invoke()},children:"LOGOUT"})]})]})),d}}}]);