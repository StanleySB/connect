(this["webpackJsonpsupport-chat-widget"]=this["webpackJsonpsupport-chat-widget"]||[]).push([[1],{28:function(e,n,t){"use strict";var a,r=t(23),o=(t(12),t(24)),i=t(8),s=o.a.div(a||(a=Object(r.a)(["\n    width:30px;\n    height:30px;\n    min-width:30px;\n    min-height:30px;\n    border-radius: 40%;\n    background-color: #a2a786;\n    background-size: cover;\n    background-position: center;\n    background-repeat:no-repeat;\n    &[data-dukascopy]{\n        background-size:80%;\n        background-color:#da2221;\n        background-image:url(data:image/png;base64,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);\n    }\n"])));n.a=function(e){var n=e.avatar;return Object(i.jsx)(s,{"data-dukascopy":"dukascopy"===n})}},39:function(e,n,t){"use strict";t.r(n);var a,r,o,i,s,c,d,l=t(23),u=t(12),p=t(24),g=t(0),b=t(13),h=t(25),x=t(8),m=p.a.div(a||(a=Object(l.a)(["\n  position: relative;\n  background-color: ",";\n  color: ",';\n  font-family: "Open Sans", sans-serif;\n  font-style: normal;\n  font-weight: 700;\n  padding: 15px 30px;\n  cursor: pointer;\n  text-transform: uppercase;\n  letter-spacing: 0.02em;\n  font-size: 22px;\n  line-height: 30px;\n  &[data-uid]::after {\n    content: attr(data-uid);\n    display: block;\n    font-size: 12px;\n    opacity: 0.4;\n    line-height: 14px;\n    font-family: "SF Pro Display";\n    font-weight: 400;\n  }\n  &[data-status="0"]::before {\n    background-color: rgba(0, 0, 0, 0.2);\n  }\n  &[data-status="1"]::before {\n    background-color: #ff9009e1;\n  }\n  &[data-status="2"]::before {\n    background-color: #15ff09e0;\n  }\n'])),b.a.chatColor,b.a.chatHeadColor),f=p.a.div(r||(r=Object(l.a)(["\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAABQElEQVRoge2ZwU7DMBAF2/w7ggOlEge4kP5jBeU6XBI1PJyQxt61K+07Rsm+GUeOanW3i0QikYhVgAfgE3gFOsfebuj8Ah5zBp25pveQGOD7Se85Z9gzv2MqkYAHOOQM3ANvMvBkITF0vRdfMA8JM3gpMJEwh5eiohJu8FJYRMIdXoqzJKrBC8AmierwAnKTRDPwArRKojl4AVuUaBZ+zJJE8/BjBtiPBKj+tmkPfszMm7gP+DELEibwVquxX3mtrcxs2D8buzZnMqQPI/exiWdWvuf6GXU5FG3KErzc057EGni5tx2JW+DlmfoSW+Dl2XoSOfAyw1+iBLzM8pMoCS8z7SUs4GW2nYQlvHSUl/CAl66yEsDRA37SlzoUHXMGfnvBTzpV4pIz7Am4AC8e8JPeDjgM3dv/4IhEIpHIf/kBoa3r5F4Qe6YAAAAASUVORK5CYII=);\n  position: absolute;\n  right: 30px;\n  width: 20px;\n  height: 20px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  top: calc(50% - 10px);\n"]))),A=function(e){var n=Object(u.useState)(null),t=Object(h.a)(n,2),a=t[0],r=t[1],o=Object(u.useState)(0),i=Object(h.a)(o,2),s=i[0],c=i[1];Object(u.useEffect)((function(){return g.a.S_CHAT_OPENED.add((function(e){r(e)}),"ChatHead"),g.a.S_WS_AUTHORIZED.add((function(e){c("guest"===e?1:2)}),"ChatHead"),g.a.S_WS_CLOSED.add((function(){c(0)}),"ChatHead"),function(){g.a.S_CHAT_OPENED.clearContext("ChatHead"),g.a.S_WS_AUTHORIZED.clearContext("ChatHead"),g.a.S_WS_CLOSED.clearContext("ChatHead")}}));var d="Loading...";null!=a&&(d=a.title);var l=null;if(null!=a&&e.messenger&&"private"===a.type){l=Object(x.jsx)("div",{onClick:function(e){g.a.S_REQUEST_CALL.invoke({chatVO:a,audio:!0,video:!0})},children:"CALL"})}var p=e.messenger?null:Object(x.jsx)(f,{onClick:function(e){g.a.S_LOG.invoke("on close button click"),g.a.S_GUI_CLOSE_CHAT.invoke({uid:null===a||void 0===a?void 0:a.uid})}});return Object(x.jsxs)(m,{onDoubleClick:e.onDoubleClick,id:"chatHead","data-staus":s,"data-uid":a?null===a||void 0===a?void 0:a.uid:"...",children:[d,p,l]})},j=t(6),O=p.a.div(o||(o=Object(l.a)(["\n  display: flex;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  padding: 13px 15px 18px 15px;\n  background-color: ",";\n  align-items: center;\n"])),b.a.chatColor),v=null,M=p.a.div(i||(i=Object(l.a)(["\n  width: 24px;\n  height: 24px;\n  min-width: 24px;\n  min-height: 24px;\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  cursor: pointer;\n  align-self: center;\n"]))),y=Object(p.a)(M)(s||(s=Object(l.a)(["\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMTEuMjUiIHN0cm9rZT0iI0M4RDBEQiIgc3Ryb2tlLXdpZHRoPSIxLjUiLz4KPHBhdGggZD0iTTEyIDVWMTlNNSAxMkgxOSIgc3Ryb2tlPSIjQzhEMERCIiBzdHJva2Utd2lkdGg9IjEuNSIvPgo8L3N2Zz4K);\n"]))),S=Object(p.a)(M)(c||(c=Object(l.a)(["\n  border-radius: 50%;\n  background-size: 60%;\n  background-color: ",";\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjMiIHZpZXdCb3g9IjAgMCAyNCAyMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIuMDgyMzEgOS45NjQyNkMxLjI5MyA5Ljc1MjE0IDAuODMzMzk0IDguOTcxMjIgMS4wNTYyIDguMjE4ODRDMS4xODkwOSA3Ljc2ODkzIDEuNTQ3NzcgNy40MTAzNCAyLjAxMzM3IDcuMjYxOTVMMjIuMDY3IDEuMDM1NTNDMjIuNDYwNiAwLjkxMjgyMyAyMi44ODQzIDEuMTE4MjggMjMuMDEzMiAxLjQ5MzA0QzIzLjA2MjEgMS42MzU3MiAyMy4wNjIxIDEuNzg5ODEgMjMuMDE0MiAxLjkzMjQ5TDE2LjQ3ODggMjEuMDMzMUMxNi4yMiAyMS43NzQxIDE1LjM3ODggMjIuMTczNiAxNC42MDA1IDIxLjkyNzNDMTQuMTMyOSAyMS43Nzg5IDEzLjc3MjIgMjEuNDE4NCAxMy42NDAzIDIwLjk2NjZMMTEuMzk2MiAxMi4wOTExTDIuMDgyMzEgOS45NjQyNloiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTIyLjgyOTYgMS4yMDcwM0wxMS4zOTY1IDEyLjA5MTQiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg==);\n  width: 42px;\n  height: 42px;\n  min-width: 42px;\n  min-height: 42px;\n  background-position: 7px 10px;\n"])),b.a.chatSendBtnBg),I=p.a.div(d||(d=Object(l.a)(["\n  flex-grow: 1;\n  max-height: 200px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  color: ",';\n  font-size: 15px;\n  line-height: 18px;\n  &:focus {\n    outline: none;\n  }\n  margin: 4px 10px 4px 10px;\n  &[data-prompt="true"] {\n    opacity: 0.7;\n    color: #fff;\n  }\n'])),b.a.chatInputColor),C=!1,w="Type your message...";g.a.S_SHARED_OBJECT_READY.add((function(e){e.promptMessage&&"string"===typeof e.promptMessage&&(w=e.promptMessage)}));var E,k,D,T,R,G,H,B,z,N,L,_,U,J,P,Q,Z,Y,F,K=function(e){var n=Object(u.useRef)(null),t=Object(u.useRef)(null);Object(u.useEffect)((function(){var e=n.current;return e&&e.addEventListener("paste",a),function(){e&&e.removeEventListener("paste",a)}}));var a=function(e){if(n.current){var t=e;if(t&&t.clipboardData){var a,r=!1,o=Object(j.a)(t.clipboardData.items);try{for(o.s();!(a=o.n()).done;){var i=a.value;if("file"===i.kind){var s=i.getAsFile();s&&g.a.S_CHAT_ATTACH_FILE_REQUEST.invoke([s])}-1===i.type.indexOf("text/rtf")&&-1===i.type.indexOf("editor")||(r=!0)}}catch(l){o.e(l)}finally{o.f()}var c=e.clipboardData.getData("text");r&&(c="{code}"+c+"{code}"),C=!0;var d=window.getSelection();d&&d.rangeCount&&(v||(v=document.createElement("div")),v.textContent=c,c=v.textContent,d.deleteFromDocument(),d.getRangeAt(0).insertNode(document.createTextNode(c)),e.preventDefault())}}},r=function(){if(n.current){var e=n.current.innerHTML;if(e){e=(e=(e=(e=e.replace("\t","TAB")).replaceAll("<br>","\n")).replaceAll("<div>","")).replaceAll("</div>","\n"),n.current.textContent=e,e=n.current.textContent;var t={"&nbsp;":"","&amp;":"&","&quot;":'"',"&lt;":"<","&gt;":">"};for(var a in t)e=e.replaceAll(a,t[a]);e?C?e.length>2e3?g.a.S_ALERT_ERROR.invoke("Message too big!"):(C=!1,n.current.textContent="",n.current.focus(),g.a.S_CHAT_MESSAGE_SEND_REQUEST.invoke(e)):g.a.S_LOGE.invoke("Input wasn't changed"):g.a.S_LOGE.invoke("No text to send")}}};return Object(x.jsxs)(O,{children:[Object(x.jsx)(y,{onClick:function(e){t.current&&t.current.click()}}),Object(x.jsx)(I,{ref:n,onFocus:function(e){n.current&&(C||(n.current.removeAttribute("data-prompt"),n.current.textContent=""))},"data-prompt":!0,onBlur:function(e){n.current&&(n.current.textContent&&0===n.current.textContent.length&&(C=!1),C||(n.current.textContent=w,n.current.setAttribute("data-prompt","true")))},onKeyUp:function(e){n.current&&("Enter"!==e.code||e.altKey||e.ctrlKey||e.shiftKey||(e.preventDefault(),r()),C=!!(n.current.textContent&&n.current.textContent.length>0))},contentEditable:!0,suppressContentEditableWarning:!0,children:w}),Object(x.jsx)(S,{onClick:function(e){r()}}),Object(x.jsx)("input",{ref:t,style:{display:"none"},type:"file",onChange:function(e){var n=e.target.files;if(n){for(var t=[],a=n.length,r=0;r<a;r++){var o=n.item(r);o&&t.push(o)}g.a.S_CHAT_ATTACH_FILE_REQUEST.invoke(t),e.target.value=""}},onPaste:a})]})},X=t(29),W=t(5),V=t(28),q=p.a.div(E||(E=Object(l.a)(["\n  background-color: ",";\n  padding: ",";\n  border-radius: ",";\n"])),b.a.chatMessageBotItemBg,b.a.chatMessagePadding,b.a.chatMessageBorderRadius),$=function(e){var n;return Object(x.jsx)(q,{"data-type":"message",children:null===(n=e.msg.sys)||void 0===n?void 0:n.title})},ee=p.a.div(k||(k=Object(l.a)(["\n  cursor: pointer;\n  color: ",";\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  padding: 9px 0 9px 0;\n  &:first-child {\n    border-top: none;\n  }\n  &:hover {\n    text-decoration: underline;\n  }\n"])),b.a.chatMessageBotMenuColor),ne=function(e){var n=e.data,t=n.text,a=n.action;return Object(x.jsx)(ee,{onClick:function(n){g.a.S_CHAT_BOT_COMMAND_SEND_REQUEST.invoke({action:a,title:t,actionData:null,botUID:e.userUID})},children:t})},te=p.a.div(D||(D=Object(l.a)(["\n  padding: ",";\n  background-color: ",";\n  color: ",";\n  margin-bottom: 2px;\n  border-radius: "," ","\n    "," ",";\n  &:nth-last-child() {\n    background-color: green;\n  }\n"])),b.a.chatMessagePadding,b.a.chatMessageBg,b.a.chatTextColor,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageSmallBorderRadius),ae=p.a.div(T||(T=Object(l.a)(["\n  padding: ",";\n  background-color: ",";\n  color: ",";\n  border-radius: ","\n    "," ","\n    ",";\n  ",";\n"])),b.a.chatMessagePadding,b.a.chatMessageBg,b.a.chatTextColor,b.a.chatMessageSmallBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.messageCloudTaleLeft),re=function(e){var n=null;try{var t;n=JSON.parse(null===(t=e.msg.sys)||void 0===t?void 0:t.additionalData)}catch(i){console.error("Can't parse bot menu "+i)}if(!n)return Object(x.jsx)("div",{children:"NO BOT MENU"});var a=Object(x.jsx)(te,{children:n.menu.title}),r=null,o=0;return n&&Array.isArray(n.menu.items)&&(r=n.menu.items.map((function(n){return Object(x.jsx)(ne,{data:n,userUID:e.msg.user_uid},o++)}))),Object(x.jsxs)("div",{children:[a,Object(x.jsx)(ae,{children:r})]})},oe=p.a.div(R||(R=Object(l.a)(["\n  background-color: rgba(0, 0, 0, 0.15);\n  width: 100%;\n  max-width: 400px;\n  padding-top: 75%;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n  border-radius: 6px;\n  cursor: pointer;\n  &:hover {\n    background-position: contain;\n  }\n"]))),ie=Object(u.memo)((function(e){var n,t=null===(n=e.msg.sys)||void 0===n?void 0:n.additionalData.split(","),a=t[0],r=Object(u.useState)(null),o=Object(h.a)(r,2),i=o[0],s=o[1];return Object(u.useEffect)((function(){return g.a.S_IMAGE_REQUEST.invoke({uid:a,thumb:!0,chatUID:e.msg.chatUID}),g.a.S_IMAGE_READY.add((function(e){e.uid===a&&e.thumb&&s(e.b64)}),a),function(){g.a.S_IMAGE_READY.clearContext(a)}}),[a,e.msg.chatUID]),Object(x.jsx)(oe,{onClick:function(n){e.msg.sys&&e.msg.sys.additionalData&&g.a.S_IMAGE_DOWNLOAD_REQUEST.invoke({target:"msg",src:n.target,uid:a,name:e.msg.sys.title,chatUID:e.msg.chatUID,width:t[1],height:t[2]})},style:{backgroundImage:"url(".concat(i)}})})),se=p.a.div(G||(G=Object(l.a)(["\n  background-color: ",";\n  padding: 10px;\n  border-radius: ",';\n  display: flex;\n  align-items: center;\n  max-width: calc(100% - 20px);\n  cursor: pointer;\n  &::before {\n    content: "";\n    display: block;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAeklEQVRIie2UwRGAIAwEL45t2I+VUIdP65RCzo9+IEKIo+M47BPusvAJ8DtIziQj6yxewWYY7pecTUvmYH1a0CZxCuySGwJVIloZAEQku0szGmlvLL3UOqQkHTyCFrqgC7rgBYG2KiKAqbbwLojpgfaDoAWNw4Oj93F2ysfj8659GAAAAAAASUVORK5CYII=);\n    width: 30px;\n    height: 30px;\n    min-width: 30px;\n    min-height: 30px;\n    background-color: ',";\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: 80%;\n    border-radius: 8px;\n    box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.5);\n    margin-right: 10px;\n  }\n  &::after {\n    content: attr(data-title);\n    display: block;\n    flex-grow: 1;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n"])),b.a.chatMessageFileMsgBg,b.a.chatMessageBorderRadius,b.a.chatMessageFileItemBg),ce=function(e){var n;return Object(x.jsx)(se,{"data-title":null===(n=e.msg.sys)||void 0===n?void 0:n.title,onClick:function(n){e.msg.sys&&e.msg.sys.additionalData&&g.a.S_FILE_DOWNLOAD_REQUEST.invoke({uid:e.msg.sys.additionalData,name:e.msg.sys.title})}})},de=p.a.div(H||(H=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n"]))),le=null;g.a.S_CHAT_OPENING.add((function(e){})),g.a.S_CHAT_OPEN_REQUEST.add((function(e){e.chatUID&&(le=e.chatUID)}));var ue,pe,ge,be,he,xe,me,fe,Ae=p.a.div(B||(B=Object(l.a)(["\n  word-wrap: break-word;\n  word-break: break-word;\n  background-color: ",";\n  color: ",';\n  flex-direction: column;\n  &[data-mine="true"] {\n    background-color: ',";\n    color: ",';\n  }\n  &[data-mine="false"] div[data-type="link"] {\n    background-color: ',";\n    color: ",";\n  }\n  align-self: flex-end;\n  padding: 15px 0 15px 0;\n  border-radius: ",';\n  &[data-full-width="true"] {\n    width: calc(100% - 50px);\n  }\n  &[data-status="plus"] {\n    background-color: #4caf50;\n    color: white;\n  }\n  &[data-status="minus"] {\n    background-color: #ce3f44;\n    color: white;\n  }\n'])),b.a.chatMessageBg,b.a.chatTextColor,b.a.chatMessageBgLeft,b.a.chatMineTextColor,b.a.linkBGColorRight,b.a.linkColorRight,b.a.chatMessageBorderRadius),je=p.a.div(z||(z=Object(l.a)(["\n  position: absolute;\n  bottom: 1px;\n  left: -45px;\n"]))),Oe=p.a.div(N||(N=Object(l.a)(["\n  &:first-child {\n    margin-top: 0;\n  }\n  &:last-child {\n    margin-bottom: 0;\n  }\n"]))),ve=Object(p.a)(Oe)(L||(L=Object(l.a)(["\n  background-color: ",";\n  color: ",";\n  cursor: pointer;\n  padding: 8px;\n  border-radius: 3px;\n  margin: ",";\n  box-sizing: border-box;\n  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.2);\n  border: 1px dashed #2196f3;\n  transition: background-color 0.2s;\n  &:hover {\n    text-decoration: underline;\n    background-color: ",";\n  }\n"])),b.a.linkBGColor,b.a.linkColor,b.a.chatMessagePadding,b.a.linkBGColorHover),Me=p.a.video(_||(_=Object(l.a)(["\n  width: 100%;\n  max-width: 434px;\n  &:first-child {\n    margin-top: 0;\n  }\n  &:last-child {\n    margin-bottom: 0;\n  }\n  margin: ",";\n"])),b.a.chatMessagePadding),ye=Object(p.a)(Oe)(U||(U=Object(l.a)(["\n  background-color: #0f2a38;\n  max-height: 60vh;\n  overflow: auto;\n  white-space: pre;\n  padding: 10px;\n  font-family: monospace;\n  font-size: 13px;\n  color: #3bffd1;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  margin: ",";\n"])),b.a.chatMessagePadding),Se=p.a.div(J||(J=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 1px;\n  &::before {\n    content: attr(data-line);\n    display: block;\n    width: 25px;\n    min-width: 25px;\n    background-color: rgba(0, 0, 0, 0.2);\n    border-right: 1px solid rgba(0, 0, 0, 0.6);\n    margin-right: 8px;\n    padding: 3px;\n    color: rgba(255, 255, 255, 0.5);\n  }\n"]))),Ie=Object(p.a)(Oe)(P||(P=Object(l.a)(["\n  margin: 0 15px 0 15px;\n"]))),Ce=function(e){var n=e.data,t=n.content,a=n.type;if("link"===a){var r=document.createElement("a");r.href=t,r.target="_blank",r.style.display="absoulte";var o=function(e){document.body.appendChild(r),r.click(),r.remove()},i=t;return i.length>40&&(i=(i=t.substr(0,15)+"..."+t.substr(15)).substr(0,35)),t.toLowerCase().endsWith(".mp4")?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Me,{controls:!0,src:t,children:Object(x.jsx)("source",{src:t,type:"video/mp4"})}),Object(x.jsx)(ve,{"data-type":"link",onClick:o,children:t})]}):Object(x.jsx)(ve,{"data-type":"link",onClick:o,children:t})}if("code"===a){var s=t.split("\n"),c=1,d=s.map((function(e){return Object(x.jsx)(Se,{"data-line":c,children:e},c++)}));return Object(x.jsx)(ye,{"data-type":"code",children:d})}return Object(x.jsx)(Ie,{children:t})},we=Object(u.memo)((function(e){var n=e.msg,t=n.text,a=n.mine,r="%{blck#$}",o=[],i=!1,s=(t=t.replace(/(\b((https:\/\/)|(http:\/\/)|(ftp:\/\/)|(www\.))((.*?)[^\s\n\t\r\v]*))|\n|{code}([\w\W]+?){code}|{code}([\w\W]+?){\/code}/gim,(function(e,n){return"\n"===e?(o.push({type:"br",content:""}),r):e.toLowerCase().startsWith("{code}")?(o.push({type:"code",content:e.substr(6,e.length-12)}),i=!0,r):(o.push({type:"link",content:e}),r)}))).split(r),c=[];for(var d in s){var l=s[d];l.length>0&&c.push({type:"text",content:l});var u=o[d];u&&c.push(u)}var p=0,g=c.map((function(e){return Object(x.jsx)(Ce,{data:e},p++)})),b=null;return"+"===t&&(b="plus"),"-"===t&&(b="minus"),Object(x.jsx)(Ae,{"data-status":b,"data-full-width":i,"data-mine":a,"data-type":"message",children:g})})),Ee=p.a.div(Q||(Q=Object(l.a)(["\n  width: 88%;\n  max-width: 88%;\n  position: relative;\n  align-self: flex-start;\n  align-items: center;\n  display: flex;\n  color: ",';\n  &[data-mine="true"] {\n    justify-content: flex-end;\n    align-self: flex-end;\n    color: ',';\n  }\n  &[data-mine="false"] {\n    flex-direction: row-reverse;\n    justify-content: flex-end;\n    margin-left: 50px;\n  }\n\n  &[data-mine="true"] {\n    &[data-position="last"],\n    &[data-position="standalone"] {\n      & div[data-type="message"] {\n        ','\n      }\n    }\n  }\n  &[data-mine="false"] {\n    &[data-position="last"],\n    &[data-position="standalone"] {\n      & div[data-type="message"] {\n        ','\n      }\n    }\n  }\n\n  &[data-mine="true"] {\n    &[data-position="middle"] {\n      & div[data-type="message"] {\n        border-radius: ',"\n          ","\n          "," ",';\n      }\n    }\n\n    &[data-position="first"] {\n      & div[data-type="message"] {\n        border-radius: ',"\n          "," ","\n          ",';\n      }\n    }\n\n    &[data-position="last"] {\n      & div[data-type="message"] {\n        border-radius: ',"\n          "," ","\n          ",';\n      }\n    }\n  }\n\n  &[data-mine="false"] {\n    &[data-position="middle"] {\n      & div[data-type="message"] {\n        border-radius: ',"\n          "," ","\n          ",';\n      }\n    }\n\n    &[data-position="first"] {\n      & div[data-type="message"] {\n        border-radius: ',"\n          "," ","\n          ",';\n      }\n    }\n\n    &[data-position="last"] {\n      & div[data-type="message"] {\n        border-radius: ',"\n          "," ","\n          ",';\n      }\n    }\n  }\n\n  &[data-position="middle"],\n  &[data-position="first"],\n  &[data-position="last"] {\n    margin-bottom: 1px;\n  }\n  &[data-position="standalone"],\n  &[data-position="last"] {\n    margin-bottom: 30px;\n  }\n  &:hover > div[data-type="time"] {\n    opacity: 1;\n    transition: opacity 0.2s;\n  }\n'])),b.a.chatMessageColorLeft,b.a.chatMessageColorRight,b.a.messageCloudTaleRight,b.a.messageCloudTaleLeft,b.a.chatMessageBorderRadius,b.a.chatMessageSmallBorderRadius,b.a.chatMessageSmallBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageSmallBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageSmallBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageSmallBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageSmallBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageSmallBorderRadius,b.a.chatMessageSmallBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius,b.a.chatMessageBorderRadius),ke=p.a.div(Z||(Z=Object(l.a)(["\n  font-size: 10px;\n  white-space: nowrap;\n  color: ",";\n  opacity: 0;\n  margin: 0 10px 0 10px;\n  transition: opacity 0.2s 5s;\n  user-select: none;\n  pointer-events: none;\n  /* background-color: #213346b7;\n    padding:3px 7px 3px 7px;\n    border-radius:9px;\n    color:white;*/\n"])),b.a.chatMessageTimeColor),De=p.a.div(Y||(Y=Object(l.a)(["\n  font-size: 11px;\n  position: absolute;\n  top: -16px;\n  color: ",";\n"])),b.a.chatMessageAuthorColor),Te=p.a.div(F||(F=Object(l.a)(["\n  /*background-color: #213346b7;*/\n  background-color: #5a6979;\n  padding: 5px 15px 5px 15px;\n  font-size: 11px;\n  color: rgba(255, 255, 255, 1);\n  white-space: nowrap;\n  border-radius: 10px;\n  margin: 0px 0 25px 0;\n  text-align: center;\n  width: 120px;\n  align-self: center;\n  position: sticky;\n  z-index: 10;\n  top: 10px;\n"]))),Re=function(e){var n=W.a.dateFormatter.format(e.message.created,"%h:%i");return Object(x.jsx)(ke,{"data-type":"time",children:n})},Ge=function(e){var n,t=e.message,a=null;t.sys&&("botMenu"===t.type&&(a=Object(x.jsx)(re,{data:t.sys,msg:t})),"botCommand"===t.type&&(a=Object(x.jsx)($,{msg:t})),"img"===t.type&&(a=Object(x.jsx)(ie,{msg:t})),"file"===t.type&&(a=Object(x.jsx)(ce,{msg:t})),null==a&&(t.text=null===(n=t.sys)||void 0===n?void 0:n.title),t.text||(t.text="System msg ".concat(t.sys.method," without title")));var r=null;t.date&&(r=Object(x.jsx)(Te,{children:t.date}));var o=null,i=null;return t.mine||"first"!==t.position&&"standalone"!==t.position||(o=Object(x.jsx)(De,{children:t.user_name})),t.mine||"last"!==t.position&&"standalone"!==t.position||(i=Object(x.jsx)(je,{children:Object(x.jsx)(V.a,{user:t.user_uid,avatar:t.user_avatar})})),null==a&&(a=Object(x.jsx)(we,{msg:t})),Object(x.jsxs)(x.Fragment,{children:[r,Object(x.jsxs)(Ee,{"data-position":t.position,"data-mine":t.mine,onClick:function(n){n.shiftKey&&console.log(e.message)},children:[Object(x.jsx)(Re,{message:t}),o,a,i]})]})},He=function(){var e=Object(u.useState)([]),n=Object(h.a)(e,2),t=n[0],a=n[1];Object(u.useEffect)((function(){return g.a.S_CHAT_MESSAGES.add((function(e){le===e.chatUID&&a(Object(X.a)(e.msgs))}),"ChatMessages"),g.a.S_GUI_MESSAGES_RENDERED.invoke(),function(){g.a.S_CHAT_MESSAGES.clearContext("ChatMessages")}}));var r=null,o=0;return t&&t.length>0&&(r=t.map((function(e){return Object(x.jsx)(Ge,{message:e},o++)}))),Object(x.jsx)(de,{children:r})},Be=t(27),ze=t(22),Ne=t(26),Le=p.a.div(ue||(ue=Object(l.a)(["\n    font-size:20px;\n    position: absolute;\n    top:66px;\n    right:8px;\n    user-select:none;\n    pointer-events: none;\n    display:flex;\n    width:100%;\n    flex-direction: column;\n    align-items: flex-end;\n    z-index:30;\n"]))),_e=p.a.div(pe||(pe=Object(l.a)(['\n    padding:5px 10px 5px 10px;\n    font-size:11px;\n    background-color:rgba(0,0,0,.7);\n    color:white;\n    border-radius: 10px;\n    max-width: 50%;\n    overflow:hidden;\n    text-overflow: ellipsis;\n    white-space:nowrap;\n    margin-bottom: 2px;\n    box-shadow:0px 1px 2px rgba(0,0,0,.3);\n    &[data-status="finish"]{\n        background-color: #3b548e;\n    }\n    &[data-status="fail"]{\n        background-color: #ce3f44;\n    }\n']))),Ue=function(e){return Object(x.jsx)(_e,{"data-status":e.data.status,children:e.data.file.name})},Je=function(){var e=Object(u.useState)([]),n=Object(h.a)(e,2),t=n[0],a=n[1];Object(u.useEffect)((function(){return g.a.S_FILE_UPLOADING_LIST_UPDATED.add((function(e){a(e)}),"ChatUploadingFiles"),function(){g.a.S_FILE_UPLOADING_LIST_UPDATED.clearContext("ChatUploadingFiles")}}));var r=0,o=t.map((function(e){return Object(x.jsx)(Ue,{data:e},r++)}));return Object(x.jsx)(Le,{children:o})},Pe=p.a.div(ge||(ge=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: rgba(0, 0, 0, 0.65);\n"]))),Qe=p.a.div(be||(be=Object(l.a)(["\n  width: 80%;\n  max-height: 80%;\n  min-height: 10%;\n  border-radius: 10px;\n  padding: 10px;\n  background-color: white;\n  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.1);\n  color: #e91e63;\n  display: flex;\n  font-size: 15px;\n  text-align: center;\n  justify-content: center;\n  align-items: center;\n  white-space: pre-line;\n  overflow-x: hidden;\n  overflow-y: auto;\n"]))),Ze=function(){var e=Object(u.useState)(null),n=Object(h.a)(e,2),t=n[0],a=n[1];Object(u.useEffect)((function(){return g.a.S_ALERT_ERROR.add((function(e){g.a.S_LOGE.invoke(e),a(e)}),"alert"),function(){g.a.S_ALERT_ERROR.clearContext("alert")}}));return t?Object(x.jsx)(Pe,{onClick:function(e){a(null)},children:Object(x.jsx)(Qe,{children:t})}):Object(x.jsx)(x.Fragment,{})};Be.a.registerPlugin(Ne.a);var Ye,Fe,Ke,Xe,We=Object(p.b)(he||(he=Object(l.a)(["\n    from {\n        transform: translateY(10px);\n        opacity: 0;\n    }\n    to {\n        transform: translateY(0px);\n        opacity: 1;\n    }\n"]))),Ve=p.a.div(xe||(xe=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n"]))),qe=p.a.div(me||(me=Object(l.a)(["\n  position: absolute;\n  right: 50px;\n  border-radius: 15px;\n  padding: 5px 10px;\n  background: ",";\n  color: ",";\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  animation: "," 0.5s linear;\n  transition: 0.5s ease;\n"])),b.a.toastBGColor,b.a.toastTextColor,We),$e=p.a.div(fe||(fe=Object(l.a)(["\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAABQElEQVRoge2ZwU7DMBAF2/w7ggOlEge4kP5jBeU6XBI1PJyQxt61K+07Rsm+GUeOanW3i0QikYhVgAfgE3gFOsfebuj8Ah5zBp25pveQGOD7Se85Z9gzv2MqkYAHOOQM3ANvMvBkITF0vRdfMA8JM3gpMJEwh5eiohJu8FJYRMIdXoqzJKrBC8AmierwAnKTRDPwArRKojl4AVuUaBZ+zJJE8/BjBtiPBKj+tmkPfszMm7gP+DELEibwVquxX3mtrcxs2D8buzZnMqQPI/exiWdWvuf6GXU5FG3KErzc057EGni5tx2JW+DlmfoSW+Dl2XoSOfAyw1+iBLzM8pMoCS8z7SUs4GW2nYQlvHSUl/CAl66yEsDRA37SlzoUHXMGfnvBTzpV4pIz7Am4AC8e8JPeDjgM3dv/4IhEIpHIf/kBoa3r5F4Qe6YAAAAASUVORK5CYII=);\n  width: 15px;\n  height: 15px;\n  min-width: 15px;\n  min-height: 15px;\n  cursor: pointer;\n  background-size: 15px;\n  margin-left: 5px;\n"]))),en=function(e){var n=Object(u.useRef)(null),t=function(t){n.current&&(n.current.getAttribute("active")||ze.d.to(n.current,.5,{opacity:0,top:"50px",ease:"ease",onComplete:function(){n.current&&(n.current.style.opacity="1",n.current.style.top="calc(50px + (".concat(e.position," * 35px))"),n.current.setAttribute("active","1")),g.a.S_TOAST_DELETE.invoke(t),g.a.REQ_TOASTS.invoke().then((function(n){return e.setToasts(n)}))}}),n.current.getAttribute("active")&&n.current.removeAttribute("active"))};return e.deletedToast===e.toast.tempUID&&t(e.toast.tempUID),Object(x.jsxs)(qe,{style:{top:"calc(50px + (".concat(e.position," * 35px))")},ref:n,children:[e.toast.text,Object(x.jsx)($e,{onClick:function(){return t(e.toast.tempUID)}})]})},nn=function(){var e=Object(u.useState)([]),n=Object(h.a)(e,2),t=n[0],a=n[1],r=Object(u.useState)(null),o=Object(h.a)(r,2),i=o[0],s=o[1];Object(u.useEffect)((function(){return g.a.S_TOAST.add((function(){g.a.REQ_TOASTS.invoke().then((function(e){return a(e)}))}),"toast"),g.a.S_TOAST_DELETE.add((function(e){s(e)}),"toast"),function(){g.a.S_TOAST.clearContext("toast"),g.a.S_TOAST_DELETE.clearContext("toast")}}),[]);return Object(x.jsxs)(Ve,{children:[Object(x.jsx)("button",{onClick:function(){g.a.S_TOAST.invoke('"test toast" + '.concat(t.length))},children:"toast"}),t.length>0&&t.map((function(e,n){return Object(x.jsx)(en,{toast:e,position:n,deletedToast:i,setToasts:a},e.state+n)}))]})};Be.a.registerPlugin(Ne.a);var tn=25,an=25,rn="320px",on="60vh",sn=p.a.div(Ye||(Ye=Object(l.a)(["\n  bottom: ","px;\n  right: ","px;\n"])),an,tn),cn=Object(p.a)(sn)(Fe||(Fe=Object(l.a)(['\n  display: flex;\n  font-family: "Open Sans", sans-serif;\n  flex-direction: column;\n  position: absolute;\n  width: ',";\n  height: ",";\n  background-color: ",";\n  border-radius: 30px;\n  overflow: hidden;\n  font-size: ",';\n  box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.2);\n  transition: height 0.2s, width 0.2s;\n  line-height: normal !important;\n  transform: scaleZ(1);\n  &[data-mobile="true"] {\n    position: relative;\n    bottom: auto;\n    right: auto;\n    left: 0;\n    top: 0;\n    border-radius: 0;\n    transition: none;\n    flex-grow: 1;\n    width: 100vw;\n    height: 100vh;\n    box-shadow: none;\n  }\n\n  &[data-messenger="true"] {\n    position: relative;\n    height: auto;\n    bottom: auto;\n    right: auto;\n    border-radius: 0;\n    transition: none;\n    flex-grow: 1;\n    max-width: 600px;\n    box-shadow: none;\n  }\n'])),rn,on,b.a.chatBG,b.a.chatMessageTextSize),dn=p.a.div(Ke||(Ke=Object(l.a)(["\n  flex-grow: 1;\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: auto;\n  width: calc(100% - 5px);\n"]))),ln=p.a.div(Xe||(Xe=Object(l.a)(["\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n"]))),un=null;n.default=function(e){var n=0,t=0,a=0,r=0,o=Object(u.useRef)(null),i=Object(u.useRef)(null),s=function(e){if(o.current){var i=a-(e.clientX-n),s=r-(e.clientY-t);o.current.style.bottom=s+"px",o.current.style.right=i+"px",c()}},c=function(){if(o.current){var e=o.current.getBoundingClientRect(),n=parseInt(o.current.style.right),t=parseInt(o.current.style.bottom);if(!isNaN(n)&&!isNaN(t)){n<tn&&(n=tn),t<an&&(t=an);var a=window.innerWidth-e.width,r=window.innerHeight-e.height;n>a&&(n=a),t>r&&(t=r),o.current.style.bottom=t+"px",o.current.style.right=n+"px"}}},d=function(e){c()},l=function(e){s(e)},p=function e(n){s(n),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",e)},b=function(){o.current&&(un&&un.kill(),o.current.setAttribute("opening","1"),o.current.removeAttribute("expanded"),o.current.style.opacity="0",o.current.style.removeProperty("display"),un=ze.d.to(o.current,.2,{width:rn,height:on,bottom:an+"px",right:tn+"px",opacity:1,ease:ze.c.easeIn,onComplete:function(){o.current&&o.current.removeAttribute("opening"),g.a.S_GUI_CHAT_OPENED.invoke()}}))};Object(u.useEffect)((function(){g.a.S_GUI_MESSAGES_RENDERED.add((function(){i.current&&(i.current.scrollTop=i.current.scrollHeight-i.current.clientHeight),o.current&&"none"===o.current.style.display&&b()}),"chat");var n=window.__DCCSharedObject;return n&&!e.sharedObject.messenger&&o.current&&(e.sharedObject.mobile||(o.current.style.right=tn+"px",o.current.style.bottom=an+"px",n.bottomOffset&&!isNaN(n.bottomOffset)&&(an=n.bottomOffset),n.rightOffset&&!isNaN(n.rightOffset)&&(tn=n.rightOffset)),c()),g.a.S_GUI_CLOSE_CHAT.add((function(e){o.current&&(un&&un.kill(),o.current.setAttribute("closing","1"),o.current.removeAttribute("expanded"),un=ze.d.to(o.current,.2,{width:0,height:0,bottom:an+"px",right:tn+"px",opacity:0,ease:ze.c.easeIn,onComplete:function(){o.current&&(o.current.style.display="none",o.current.removeAttribute("closing")),g.a.S_GUI_CHAT_CLOSED.invoke()}}))}),"chat"),g.a.S_GUI_OPEN_CHAT.add((function(){b()}),"chat"),e.sharedObject.messenger||window.addEventListener("resize",d),function(){window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",p),window.removeEventListener("resize",d),g.a.S_GUI_MESSAGES_RENDERED.clearContext("chat"),g.a.S_GUI_CLOSE_CHAT.clearContext("chat"),g.a.S_GUI_OPEN_CHAT.clearContext("chat"),g.a.S_GUI_REPOSITION_CHAT.clearContext("chat"),un&&un.kill()}}));var h=function(e){e.preventDefault();for(var n=[],t=e.dataTransfer.files.length,a=0;a<t;a++){var r=e.dataTransfer.files.item(a);r&&n.push(r)}g.a.S_CHAT_ATTACH_FILE_REQUEST.invoke(n)},m=function(e){e.preventDefault()},f=e.sharedObject.headless?null:Object(x.jsx)(A,{messenger:e.sharedObject.messenger,onDoubleClick:function(n){o.current&&(o.current.getAttribute("closing")||e.sharedObject.messenger||e.sharedObject.mobile||(o.current.getAttribute("expanded")?(un=ze.d.to(o.current,.2,{width:320,height:"50vh",bottom:an+"px",right:tn+"px",ease:ze.c.easeOut}),o.current.removeAttribute("expanded")):(un=ze.d.to(o.current,.2,{width:390,height:"calc(95vh - ".concat(an,"px)"),bottom:an+"px",right:tn+"px",ease:ze.c.easeOut}),o.current.setAttribute("expanded","1"))))}});return e.sharedObject.messenger?Object(x.jsxs)(cn,{id:"DukascopyConnect","data-messenger":e.sharedObject.messenger,ref:o,children:[f,Object(x.jsx)(dn,{ref:i,onDrop:h,onDragOver:m,children:Object(x.jsx)(ln,{children:Object(x.jsx)(He,{})})}),Object(x.jsx)(Je,{}),Object(x.jsx)(K,{messenger:e.sharedObject.messenger}),Object(x.jsx)(nn,{}),Object(x.jsx)(Ze,{})]}):Object(x.jsxs)(cn,{id:"DukascopyConnect","data-mobile":e.sharedObject.mobile,ref:o,onMouseDown:function(i){if(!e.sharedObject.mobile&&o.current&&"chatHead"===i.target.id){n=i.clientX,t=i.clientY;var s=o.current.getBoundingClientRect();a=s.left,r=s.top,a=parseInt(o.current.style.right),r=parseInt(o.current.style.bottom),isNaN(a)&&(a=tn,o.current.style.right=a+"px"),isNaN(r)&&(r=an,o.current.style.bottom=r+"px"),window.addEventListener("mousemove",l),window.addEventListener("mouseup",p)}},children:[f,Object(x.jsx)(dn,{ref:i,onDrop:h,onDragOver:m,children:Object(x.jsx)(ln,{children:Object(x.jsx)(He,{})})}),Object(x.jsx)(Je,{}),Object(x.jsx)(K,{}),Object(x.jsx)(Ze,{})]})}}}]);